{"version":3,"sources":["pages/PrivateRoute/PrivateRoute.js","utils/TokenParser.js","pages/SignIn/roles/Admin.js","contexts/UserContext.js","pages/SignIn/roles/Customer.js","images/alcantara-seal.png","pages/SignIn/SignIn.js","components/Navbar/Navbar.js","contexts/AllAccountsContext.js","contexts/CustomerDataContext.js","contexts/BillContext.js","components/BillCard/BillCard.js","components/BillListing/BillListing.js","components/Loader/Loader.js","hooks/useFetch.js","pages/Bills/Bills.js","pages/BillsPage/BillsPage.js","hooks/useConsumptionAmount.js","pages/Customer/CustomerPage.js","contexts/BillAccountContext.js","components/AccountDetailsModal/AccountDetailsModal.js","hooks/useTableSort.js","pages/main/Accounts/SvgIcons.js","components/AccountsListing/AccountsListing.js","pages/main/Accounts/Accounts.js","components/CreateAccountForm/AccountNumberField.js","components/CreateAccountForm/AddressField.js","components/CreateAccountForm/FullNameField.js","components/CreateAccountForm/MeterSerialNumberField.js","components/CreateAccountForm/MobileNumberField.js","components/CreateAccountForm/BarangayField.js","components/CreateAccountForm/NewOrExistingField.js","components/CreateAccountForm/LastBillDetailsFields.js","components/CreateAccountForm/SubmitCreateAccountButton.js","components/CreateAccountForm/CreateAccountValidationRules.js","components/CreateAccountForm/SuccessModal.js","pages/main/CreateAccount/CreateAccount.js","pages/main/AccountsPage/AccountsPage.js","components/AdminHome/HomeCard.js","images/register.png","images/accounts.png","images/statement.jpg","pages/main/Home/Home.js","contexts/BillingDateContext.js","components/StatementComponents/ImportantNotes.js","components/StatementComponents/IssueBillModal/IssueBillModal.js","components/StatementComponents/PeriodSelectField.js","components/StatementsListing/StatementsListing.js","pages/main/IssueStatements/IssueStatements.js","hooks/useTableFilter.js","hooks/useDateStringToday.js","pages/main/Statements/Statements.js","pages/main/StatementsPage/StatementsPage.js","pages/main/Main.js","components/RoleFilter/RoleFilter.js","App.js","reportWebVitals.js","index.js"],"names":["PrivateRoute","children","rest","isAuthorized","localStorage","getItem","render","location","to","pathname","state","from","tokenParser","token","base64","split","replace","jsonPayload","decodeURIComponent","atob","map","c","charCodeAt","toString","slice","join","JSON","parse","Admin","history","useHistory","usernameRef","useRef","passwordRef","useState","username","setUsername","password","setPassword","loading","setLoading","doAdminLogin","user","fetch","method","headers","body","stringify","then","response","text","console","log","alert","current","value","setItem","role","push","catch","e","className","htmlFor","type","id","placeholder","ref","onChange","target","trim","disabled","aria-hidden","onClick","UserContext","createContext","UserProvider","activeUser","setActiveUser","Provider","Customer","accountNoRef","accountNo","setAccountNo","useContext","doCustomerLogin","account","SignIn","src","seal","alt","style","height","width","data-toggle","href","aria-controls","aria-selected","aria-labelledby","Navbar","r","adminNavItems","name","subMenu","customerHomeTo","customerStatementsTo","data-target","aria-expanded","aria-label","item","subItem","activeClassName","exact","clear","AllAccountsContext","AllAccountsContextProvider","accounts","setAccounts","useAccountsContext","CustomerDataContext","CustomerDataProvider","data","setData","BillContext","BillProvider","billOnDisplay","setBillOnDisplay","BillCard","bill","Date","periodFrom","toDateString","substring","periodTo","billNumber","readingPresent","readingPrevious","cumUsed","chargePerAboveTen","totalAmountDue","goBack","BillListing","bills","viewBill","yearStep","selectedYear","setSelectedYear","sort","a","b","filter","results","setResults","useEffect","scope","length","colSpan","Loader","animationDelay","useFetch","endpoint","setState","controllerRef","AbortController","signal","x","abort","Bills","res","handle","TOKEN","acctNumber","accountNumber","API","billNo","viewThis","find","parseInt","BillsPage","path","useRouteMatch","useConsumptionAmount","consumption","excess","excessAmount","chargeTenBelow","chargeAboveTen","total","CustomerPage","lastBillReading","months","fullName","address","undefined","mobileNumber","meterSerialNumber","lastBillPeriodTo","getMonth","BillAccountContext","BillAccountProvider","billAccount","setBillAccount","AccountDetailsModal","setShowModal","handleClose","useTableSort","sortBy","array","arrow","barangay","ArrowUp","viewBox","fill","xmlns","fillRule","d","ArrowDown","AccountsListing","selectAccount","setSortBy","arrowIcons","up","down","cursor","title","Accounts","showModal","viewAccount","setViewAccount","setTimeout","AccountNumberField","values","setValues","errors","test","AddressField","FullNameField","MeterSerialNumberField","MobileNumberField","BarangayField","barangayList","label","addressList","POB","GUI","MAD","BAG","LAW","CAM","defaultChecked","defaultValue","NewOrExistingField","checked","existing","lastBillNumber","LastBillDetailsFields","lastBillNumberState","setLastBillNumberState","lastBillReadingState","setLastBillReadingState","s","SubmitCreateAccountButton","setErrors","onMouseDown","validate","onMouseUp","Object","keys","SuccessModal","CreateAccount","AccountsPage","HomeCard","cardImg","cardTitle","cardText","buttonLabel","handleClick","processedText","objectFit","index","Home","homeCards","register","statement","require","BillingDateContext","BillingDateContextProvider","useBillingDate","ImportantNotes","IssueBillModal","payload","setPayload","foundAccount","billingDate","chargeOthers","charges","aria-describedby","PeriodSelectField","monthIndex","StatementsListing","IssueStatements","filteredArr","filtered","useTableFilter","days","Statements","dateStringToday","setDateStringToday","dateInstanceRef","day","getDay","month","date","getDate","year","getFullYear","useDateStringToday","fontSize","StatementsPage","Main","isAdmin","setIsAdmin","RoleFilter","props","App","basename","process","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.fcb328c2.chunk.js","sourcesContent":["import { Route, Redirect } from 'react-router-dom';\r\n\r\n\r\nexport default function PrivateRoute({ children, ...rest }) {\r\n   \r\n   \r\n   let isAuthorized = localStorage.getItem(\"token\") ? true : false;\r\n\r\n\r\n   \r\n   return (\r\n      <>\r\n         <Route\r\n            {...rest}\r\n            render={({ location }) =>\r\n               (isAuthorized) ? (\r\n                  children\r\n               ) : (\r\n                     <Redirect\r\n                        to={{\r\n                           pathname: \"/login\",\r\n                           state: { from: location }\r\n                        }}\r\n                     />\r\n                  )}\r\n         />\r\n      </>\r\n   )\r\n}","\r\n\r\nexport const tokenParser = (token) => {\r\n  let base64Url = token.split(\".\")[1];\r\n  let base64 = base64Url.replace(/-/g, \"+\").replace(/_/g, \"/\");\r\n  let jsonPayload = decodeURIComponent(\r\n      atob(base64)\r\n        .split(\"\")\r\n        .map(function (c) {\r\n            return \"%\" + (\"00\" + c.charCodeAt(0).toString(16)).slice(-2);\r\n        })\r\n        .join(\"\")\r\n  );\r\n  return JSON.parse(jsonPayload);\r\n};","import { useRef, useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { tokenParser } from \"../../../utils/TokenParser\";\r\n\r\nconst ADMIN_LOGIN_URI=\"https://sp1-blue-sparrow.herokuapp.com/auth/admin/login\";\r\n\r\nconst devToken = \"eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJ0ZXN0YWRtaW4xIiwidXNlcklkIjo5MSwicm9sZSI6ImFkbWluIn0.MLD1gmEeHBsvPT0erjUZbo0P5akYmu5JAf_9elAR6vKho7A7tz_NM5be8kI1kbat8eyZOW4V9dvynbIbxqiV4Q\";\r\n\r\nexport const Admin = () => {\r\n\r\n  const developmentMode = () => {\r\n    localStorage.setItem(\"token\", devToken);\r\n    localStorage.setItem(\"role\", tokenParser(devToken).role);\r\n    history.push(\"/\");\r\n  };\r\n\r\n  let history = useHistory();\r\n  \r\n  let usernameRef = useRef(true);\r\n  let passwordRef = useRef(true);\r\n\r\n  let [username, setUsername] = useState(\"\");\r\n  let [password, setPassword] = useState(\"\");\r\n\r\n  const handleUsername = (e) => {\r\n    setUsername(e.target.value.trim())\r\n  };\r\n\r\n  const handlePassword = (e) => {\r\n    setPassword(e.target.value.trim())\r\n  };\r\n\r\n  let [loading, setLoading] = useState(false);\r\n\r\n  const doAdminLogin = () => {\r\n    setLoading(true);\r\n    let user = {\r\n      username: username,\r\n      password: password\r\n    }\r\n    fetch(ADMIN_LOGIN_URI, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-type\": \"application/json\"\r\n      },\r\n      body: JSON.stringify(user)\r\n    })\r\n    .then(response => response.text())\r\n    .then(token => {\r\n      console.log(token);\r\n      if (token === \"Invalid Username\" || token === \"Incorrect Password\" || token === \"Login Invalid\") {\r\n        alert(token);\r\n        setLoading(false);\r\n        usernameRef.current.value = \"\";\r\n        passwordRef.current.value = \"\";\r\n      } else {\r\n        localStorage.setItem(\"token\", token);\r\n        localStorage.setItem(\"role\", tokenParser(token).role);\r\n        history.push(\"/\");\r\n      }\r\n    })\r\n    .catch(e => {\r\n      console.log(e);\r\n      alert(\"Something went wrong...\");\r\n      setLoading(false);\r\n    })\r\n  };\r\n\r\n  \r\n\r\n  const loadingButton = () => {\r\n    if (!loading) {\r\n      return (\r\n        <button\r\n          type=\"button\"\r\n          className=\"btn btn-primary w-100\"\r\n          onClick={doAdminLogin}\r\n          // onClick={developmentMode}\r\n        >\r\n          <span>Login</span>\r\n        </button>\r\n      )\r\n    } else return (\r\n      <button\r\n          type=\"button\"\r\n          className=\"btn btn-primary w-100\"\r\n          disabled={loading}\r\n        >\r\n          <span className=\"spinner-border spinner-border-sm\" role=\"status\" aria-hidden=\"true\"></span>\r\n          <span className=\"visually-hidden\">Loading...</span>\r\n        </button>\r\n    )\r\n  };\r\n\r\n  \r\n\r\n  return (\r\n    <div className=\"\">\r\n      <div className=\"col-12 mb-4\">\r\n        <label \r\n          htmlFor=\"usernameInput\" \r\n          className=\"form-label\">\r\n            Username\r\n        </label>\r\n        <input \r\n          type=\"text\" \r\n          className=\"form-control\" \r\n          id=\"usernameInput\" \r\n          placeholder=\"Username\"\r\n          ref={usernameRef}\r\n          onChange={handleUsername}\r\n          disabled={loading} \r\n        />\r\n      </div>\r\n      <div className=\"col-12 mb-4\">\r\n        <label \r\n          htmlFor=\"adminPwInput\" \r\n          className=\"form-label\">\r\n            Password\r\n        </label>\r\n        <input \r\n          type=\"password\" \r\n          className=\"form-control\" \r\n          id=\"adminPwInput\" \r\n          placeholder=\"Password\"\r\n          ref={passwordRef}\r\n          onChange={handlePassword} \r\n          disabled={loading} \r\n        />\r\n      </div>\r\n      <div className=\"col-12 mb-3 pt-2\">\r\n        {loadingButton()}\r\n      </div>\r\n\r\n    </div>\r\n\r\n  )\r\n}","import { createContext, useState } from \"react\";\r\n\r\nexport const UserContext = createContext();\r\n\r\n\r\nexport const UserProvider = ({children}) => {\r\n\r\n  let [activeUser, setActiveUser] = useState(true);\r\n\r\n  return (\r\n    <UserContext.Provider value={{activeUser, setActiveUser}}>\r\n      {children}\r\n    </UserContext.Provider>\r\n  )\r\n}","import { useContext, useRef, useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { UserContext } from \"../../../contexts/UserContext\";\r\nimport { tokenParser } from \"../../../utils/TokenParser\";\r\n\r\nconst CUSTOMER_LOGIN_URI=\"https://sp1-blue-sparrow.herokuapp.com/auth/customer/login\";\r\n\r\nexport const Customer = () => {\r\n  let history = useHistory();\r\n\r\n  let accountNoRef = useRef(true);\r\n  let passwordRef = useRef(true);\r\n\r\n  let [accountNo, setAccountNo] = useState(\"\");\r\n  let [password, setPassword] = useState(\"\");\r\n\r\n\r\n  const handleAccountNo = (e) => {\r\n    setAccountNo(e.target.value.trim())\r\n  };\r\n\r\n  const handlePassword = (e) => {\r\n    setPassword(e.target.value.trim())\r\n  };\r\n\r\n  const { setActiveUser } = useContext(UserContext);\r\n\r\n  let [loading, setLoading] = useState(false);\r\n\r\n  const doCustomerLogin = () => {\r\n    setLoading(true);\r\n    let user = {\r\n      username: accountNo,\r\n      password: password\r\n    }\r\n    fetch(CUSTOMER_LOGIN_URI, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-type\": \"application/json\"\r\n      },\r\n      body: JSON.stringify(user)\r\n    })\r\n    .then(response => response.text())\r\n    .then(token => {\r\n      console.log(token);\r\n      if (token === \"Invalid Username\" || token === \"Incorrect Password\" || token === \"Login Invalid\") {\r\n        alert(token);\r\n        setLoading(false);\r\n        accountNoRef.current.value = \"\";\r\n        passwordRef.current.value = \"\";\r\n      } else {\r\n        localStorage.setItem(\"token\", token);\r\n        localStorage.setItem(\"role\", tokenParser(token).role);\r\n        setActiveUser(tokenParser(token).account);\r\n        history.push(\"/\");\r\n        \r\n      }\r\n    })\r\n    .catch(e => {\r\n      console.log(e);\r\n      alert(\"Something went wrong...\");\r\n      setLoading(false);\r\n    })\r\n  };\r\n\r\n  const loadingButton = () => {\r\n    if (!loading) {\r\n      return (\r\n        <button\r\n          type=\"button\"\r\n          className=\"btn btn-primary w-100\"\r\n          onClick={doCustomerLogin}\r\n        >\r\n          <span>Login</span>\r\n        </button>\r\n      )\r\n    } else return (\r\n      <button\r\n          type=\"button\"\r\n          className=\"btn btn-primary w-100\"\r\n          disabled={loading}\r\n        >\r\n          <span className=\"spinner-border spinner-border-sm\" role=\"status\" aria-hidden=\"true\"></span>\r\n          <span className=\"visually-hidden\">Loading...</span>\r\n        </button>\r\n    )\r\n  };\r\n\r\n  \r\n\r\n\r\n\r\n  return (\r\n    <div className=\"\">\r\n      <div className=\"col-12 mb-4\">\r\n        <label \r\n          htmlFor=\"accountNumberInput\" \r\n          className=\"form-label\">\r\n            Account No.\r\n        </label>\r\n        <input \r\n          type=\"text\" \r\n          className=\"form-control\" \r\n          id=\"accountNumberInput\" \r\n          placeholder=\"Account No.\"\r\n          ref={accountNoRef}\r\n          onChange={handleAccountNo} \r\n        />\r\n      </div>\r\n      <div className=\"col-12 mb-4\">\r\n        <label \r\n          htmlFor=\"customerPwInput\" \r\n          className=\"form-label\">\r\n            Password\r\n        </label>\r\n        <input \r\n          type=\"password\" \r\n          className=\"form-control\" \r\n          id=\"customerPwInput\" \r\n          placeholder=\"Password\"\r\n          ref={passwordRef}\r\n          onChange={handlePassword} \r\n        />\r\n      </div>\r\n      <div className=\"col-12 mb-3 pt-2\">\r\n        {loadingButton()}\r\n      </div>\r\n\r\n    </div>\r\n\r\n  )\r\n}","export default __webpack_public_path__ + \"static/media/alcantara-seal.a1037ced.png\";","import \"./style.css\";\r\nimport { Admin } from \"./roles/Admin\";\r\nimport { Customer } from \"./roles/Customer\";\r\nimport seal from \"../../images/alcantara-seal.png\";\r\n\r\n\r\nexport const SignIn = () => {\r\n\r\n  \r\n  \r\n\r\n  return (\r\n    <>\r\n      <div className=\"container sign-in-wrapper d-flex align-items-center  justify-content-center\">\r\n        <div className=\"col-12 col-md-6 \">\r\n          <div className=\"text-center\">\r\n            <img \r\n              src={seal} \r\n              alt=\"Alcantara, Romblon - Municipal Seal\" \r\n              className=\"img-thumbnail border-0\"\r\n              style={{\r\n                height: \"12rem\",\r\n                width: \"12rem\"\r\n              }}\r\n            />\r\n          </div>\r\n          <p className=\"display-6 text-center\">\r\n            Municipality of Alcantara\r\n          </p>\r\n          <p className=\"h3 text-center\">\r\n            Water Supply System\r\n          </p>\r\n        </div>\r\n\r\n        <div className=\"col-12 col-md-6\">\r\n          <p className=\"mr-auto h4\">\r\n            Login As:\r\n          </p>\r\n          <ul className=\"nav nav-tabs pt-1\" id=\"myTab\" role=\"tablist\">\r\n            <li className=\"nav-item\" role=\"presentation\">\r\n              <a className=\"nav-link active\" \r\n                id=\"home-tab\" \r\n                data-toggle=\"tab\" \r\n                href=\"#admin\" \r\n                role=\"tab\" \r\n                aria-controls=\"admin\" \r\n                aria-selected=\"true\"\r\n              >\r\n                Admin\r\n              </a>\r\n            </li>\r\n            <li className=\"nav-item\" role=\"presentation\">\r\n              <a className=\"nav-link\" \r\n                id=\"customer-tab\" \r\n                data-toggle=\"tab\" \r\n                href=\"#customer\" \r\n                role=\"tab\" \r\n                aria-controls=\"customer\" \r\n                aria-selected=\"false\"\r\n              >\r\n                Customer\r\n              </a>\r\n            </li>\r\n          </ul>\r\n          <div \r\n            className=\"tab-content col-12 flex-column p-3 border border-1\" \r\n            id=\"myTabContent\"\r\n          >\r\n            <div className=\"tab-pane fade show active\" \r\n              id=\"admin\" \r\n              role=\"tabpanel\" \r\n              aria-labelledby=\"admin-tab\"\r\n            >\r\n              <Admin />\r\n            </div>\r\n            <div className=\"tab-pane fade\" \r\n              id=\"customer\" \r\n              role=\"tabpanel\" \r\n              aria-labelledby=\"customer-tab\"\r\n            >\r\n              <Customer />\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \r\n        \r\n       \r\n\r\n      </div>\r\n    </>\r\n  )\r\n}","import { NavLink, useHistory } from \"react-router-dom\";\r\nimport \"./style.css\";\r\n\r\nexport const Navbar = () => {\r\n\r\n  const history = useHistory();\r\n\r\n  let role = localStorage.getItem(\"role\");\r\n\r\n  const adminNavItems = [\r\n    {\r\n      name: \"Home\", \r\n      to: {\r\n        pathname: \"/admin\",\r\n        state: { from: history.location}\r\n      }\r\n    },\r\n    {\r\n      name: \"Accounts\",\r\n      subMenu: [\r\n        {\r\n          name: \"View Accounts\",\r\n          to: {\r\n            pathname: \"/admin/accounts\",\r\n            state: { from: history.location}\r\n          } \r\n        },\r\n        {\r\n          name: \"Register Account\",\r\n          to: {\r\n            pathname: \"/admin/accounts/new\",\r\n            state: { from: history.location}\r\n          } \r\n        }\r\n      ]\r\n    },\r\n    {\r\n      name: \"Statements\",\r\n      to: {\r\n        pathname: \"/admin/statements\",\r\n        state: { from: history.location} \r\n      }\r\n    }\r\n  ]\r\n\r\n  \r\n  let customerHomeTo = {\r\n    pathname: \"/customer\",\r\n    state: { from: history.location} \r\n  };\r\n  let customerStatementsTo = {\r\n    pathname: \"/customer/bills\",\r\n    state: { from: history.location} \r\n  };\r\n\r\n  // <NavLink\r\n  //   key={item.name} \r\n  //   className=\"nav-link mx-2\"\r\n  //   activeClassName=\"active\"\r\n  //   exact\r\n  //   to={item.to}\r\n  // >\r\n  //   {item.name}\r\n  // </NavLink>\r\n\r\n\r\n  const showNav = (r) => (\r\n    (r === \"admin\") ?\r\n      <div className=\"collapse navbar-collapse\" id=\"navbarNavAltMarkup\">\r\n        <div className=\"navbar-nav d-flex w-75\">\r\n          {adminNavItems.map(item => {\r\n            if (item.name === \"Accounts\") {\r\n              return (\r\n                <div className=\"nav-item dropdown\" key={item.name}>\r\n                  <button type=\"button\" className=\"btn btn-link btn-light nav-link dropdown-toggle\" data-toggle=\"dropdown\" aria-expanded=\"false\" >\r\n                    {item.name}\r\n                  </button>\r\n                    <div className=\"dropdown-menu\">\r\n                      {item.subMenu.map(subItem => (\r\n                        <NavLink\r\n                          key={subItem.name} \r\n                          className=\"nav-link dropdown-item\"\r\n                          activeClassName=\"active\"\r\n                          exact\r\n                          to={subItem.to}\r\n                        >\r\n                          {subItem.name}\r\n                        </NavLink>\r\n                      ))}\r\n                    </div>\r\n                </div>\r\n              )\r\n            } else {\r\n              return (\r\n                <NavLink\r\n                  key={item.name} \r\n                  className=\"nav-link mx-2\"\r\n                  activeClassName=\"active\"\r\n                  exact\r\n                  to={item.to}\r\n                >\r\n                  {item.name}\r\n                </NavLink>                \r\n              )\r\n            }\r\n          })}\r\n        </div>\r\n        <div className=\"d-flex w-100 w-md-75 justify-content-md-end justify-content-center\">\r\n          <button\r\n            type=\"button\"\r\n            className=\"btn btn-link sign-out-btn\"\r\n            onClick={() => {\r\n              history.push(\"/login\");\r\n              localStorage.clear();\r\n            }}\r\n          >\r\n            Sign Out\r\n          </button>\r\n        </div>\r\n      </div>\r\n      :\r\n      <div className=\"collapse navbar-collapse\" id=\"navbarNavAltMarkup\">\r\n        <div className=\"navbar-nav d-flex w-25 justify-content-around\">\r\n          <NavLink \r\n            className=\"nav-link\"\r\n            activeClassName=\"active\"\r\n            exact\r\n            to={customerHomeTo}\r\n          >\r\n            Account\r\n          </NavLink>\r\n          <NavLink \r\n            className=\"nav-link\"\r\n            activeClassName=\"active\"\r\n            to={customerStatementsTo}\r\n          >\r\n            Bills\r\n          </NavLink>\r\n        </div>\r\n        <div className=\"d-flex w-100 w-md-75 justify-content-md-end justify-content-center\">\r\n          <button\r\n            type=\"button\"\r\n            className=\"btn btn-link sign-out-btn\"\r\n            onClick={() => {\r\n              history.push(\"/login\");\r\n              localStorage.clear();\r\n            }}\r\n          >\r\n            Sign Out\r\n          </button>\r\n        </div>\r\n      </div>\r\n  )\r\n\r\n  \r\n\r\n  return (\r\n    <nav className=\"navbar navbar-expand-lg navbar-light bg-light\">\r\n      <div className=\"container-fluid\">\r\n        <span className=\"mr-1 navbar-brand\">Water</span>\r\n        <span className=\"mr-1 navbar-brand\">Supply</span>\r\n        <span className=\"mr-1 navbar-brand\">System</span>\r\n        <button \r\n          className=\"navbar-toggler\" \r\n          type=\"button\" \r\n          data-toggle=\"collapse\" \r\n          data-target=\"#navbarNavAltMarkup\" \r\n          aria-controls=\"navbarNavAltMarkup\" \r\n          aria-expanded=\"false\" \r\n          aria-label=\"Toggle navigation\"\r\n        >\r\n          <span className=\"navbar-toggler-icon\"></span>\r\n        </button>\r\n        \r\n        {showNav(role)}\r\n\r\n      </div>\r\n    </nav>    \r\n  )\r\n}","import { createContext, useContext, useState } from \"react\";\r\n\r\n\r\nexport const AllAccountsContext = createContext(null);\r\n\r\n\r\nexport const AllAccountsContextProvider = ({children}) => {\r\n\r\n  const [accounts, setAccounts] = useState([]);\r\n\r\n\r\n  return (\r\n    <AllAccountsContext.Provider value={{accounts, setAccounts}}>\r\n      {children}\r\n    </AllAccountsContext.Provider>\r\n  )\r\n}\r\n\r\n\r\nexport const useAccountsContext = () => {\r\n  return useContext(AllAccountsContext);\r\n}","import { createContext, useState } from \"react\";\r\n\r\n\r\nexport const CustomerDataContext = createContext();\r\n\r\n\r\nexport const CustomerDataProvider = ({children}) => {\r\n\r\n  let [data, setData] = useState()\r\n\r\n\r\n  return (\r\n    <CustomerDataContext.Provider value={{data, setData}} >\r\n      {children}\r\n    </CustomerDataContext.Provider>\r\n  )\r\n}\r\n\r\n\r\n\r\n\r\n  // let data =  [\r\n  //   {\r\n  //     accountNo: \"2015-06-047\",\r\n  //     billNo: 1,\r\n  //     period: {\r\n  //       from: 1598547600000,\r\n  //       to: 1601226000000,\r\n  //       year: 2020\r\n  //     },\r\n  //     reading: {\r\n  //       present: 863,\r\n  //       previous: 844\r\n  //     },\r\n  //     consumption: {\r\n  //       cuMeter: 19,\r\n  //       rates: {\r\n  //         currency: \"PHP\",\r\n  //         zeroToTenCuM: 50,\r\n  //         aboveTenPerCuM: 11\r\n  //       },\r\n  //       amount: {\r\n  //         currency: \"PHP\",\r\n  //         zeroToTenCuM: 50,\r\n  //         aboveTenPerCuM: 99\r\n  //       }\r\n  //     }\r\n  //   }\r\n  // ];\r\n// {state, setState}","import { createContext, useContext, useState } from \"react\";\r\nimport { CustomerDataContext } from \"./CustomerDataContext\";\r\n\r\n\r\nexport const BillContext = createContext();\r\n\r\nexport const BillProvider = ({children}) => {\r\n\r\n  let data = useContext(CustomerDataContext);\r\n\r\n  let [billOnDisplay, setBillOnDisplay] = useState(data[0])\r\n\r\n  return (\r\n    <BillContext.Provider value={{billOnDisplay, setBillOnDisplay}} >\r\n      {children}\r\n    </BillContext.Provider>\r\n  )\r\n}","import { useHistory } from \"react-router-dom\";\r\nimport \"./style.css\";\r\n\r\nexport const BillCard = ({bill}) => {\r\n\r\n  \r\n  let from = new Date(bill.periodFrom).toDateString().substring(4,10);\r\n  let to = new Date(bill.periodTo).toDateString().substring(4,10);\r\n\r\n  let history = useHistory();\r\n\r\n\r\n \r\n\r\n  return (\r\n    <div className=\"container bill-card-wrapper\">\r\n      <div className=\"row pt-3\">\r\n        <div className=\"col-12 col-md-10 mx-auto\">\r\n          <div className=\"card\">\r\n            <div className=\"card-header\">\r\n              <div className=\"row py-2\">\r\n                <div className=\"col-12 col-md-2\">\r\n                  <div className=\"d-flex justify-content-between\">\r\n                    <p className=\"h5\">Bill No.</p>\r\n                    <p className=\"h5 font-weight-normal\"> {`${bill.billNumber}`} </p>\r\n                  </div>                  \r\n                </div>\r\n                <div className=\"col-12 col-md-5 ml-auto\">\r\n                  <div className=\"d-flex justify-content-between\">\r\n                    <p className=\"h5\">Period Covered:</p>\r\n                    <p className=\"h5 font-weight-light\"> \r\n                      {`${from} - ${to}`}\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"card-body\">\r\n              <div className=\"row g-2\">\r\n                <div className=\"col-6 p-2 m-auto\">\r\n                  <p className=\"h5 text-center\">Meter Reading</p>\r\n                  <div className=\"d-flex justify-content-between my-0 py-0\">\r\n                    <p className=\"font-weight-bold my-0 py-0\">Present: </p>\r\n                    <p className=\"my-0 py-0\"> {bill.readingPresent} </p>\r\n                  </div>\r\n                  <div className=\"d-flex justify-content-between\">\r\n                    <p className=\"font-weight-bold my-0 py-0\">Previous: </p>\r\n                    <p className=\"my-0 py-0\"> {bill.readingPrevious} </p>\r\n                  </div>\r\n                  <div className=\"d-flex justify-content-between\">\r\n                    <p className=\"font-weight-bold my-0 py-0\">Used in Cu. Meters: </p>\r\n                    <p className=\"my-0 py-0\"> {bill.cumUsed} </p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <hr />\r\n              <div className=\"row g-2\">\r\n                <p className=\"h5 text-center\">Consumption</p>\r\n                <div className=\"col-8 m-auto\">\r\n                  <div className=\"d-flex justify-content-between\">\r\n                    <p className=\"font-weight-bold\">Charges</p>\r\n                    <p className=\"font-weight-bold\">Rates</p>\r\n                  </div>\r\n                  <div className=\"d-flex justify-content-between\">\r\n                    <p className=\"h6\">0 - 10 CU.M: </p>\r\n                    <p className=\"\">PHP 50.00</p>\r\n                  </div>\r\n                  <div className=\"d-flex justify-content-between\">\r\n                    <p className=\"h6\">Above 10 CU.M: </p>\r\n                    <p className=\"\">PHP 11.00 / CU.M</p>\r\n                  </div>\r\n                  <div className=\"d-flex justify-content-start\">\r\n                    <p className=\"h6\">Others: </p>\r\n                  </div>\r\n                </div>\r\n                <div className=\"col-4 m-auto\">\r\n                  <p className=\"font-weight-bold text-right\">Amount</p>\r\n                  <div className=\"d-flex justify-content-end\">\r\n                    <p className=\"\">50.00</p>\r\n                  </div>\r\n                  <div className=\"d-flex justify-content-end\">\r\n                    <p className=\"\">\r\n                      {`${ bill.chargePerAboveTen}.00`}\r\n                    </p>\r\n                  </div>\r\n                  <div className=\"d-flex justify-content-end\">\r\n                    <p className=\"\">\r\n                      0.00\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <hr className=\"my-1\" />\r\n              <div className=\"row g-1\">\r\n                <div className=\"col-6 ml-auto d-flex justify-content-between\">\r\n                  <p className=\"h5\">Total Amount</p>\r\n                  <p className=\"h5\">\r\n                    {`PHP ${bill.totalAmountDue}.00`}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"card-footer\">\r\n              <div className=\"d-flex w-100 justify-content-end\">\r\n                <button\r\n                  className=\"btn btn-outline-primary btn-lg px-4\"\r\n                  type=\"button\"\r\n                  onClick={() => {history.goBack()}}\r\n                >\r\n                  Go Back\r\n                </button>\r\n\r\n              </div>\r\n            </div>\r\n          </div>    \r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n  )\r\n}","import { useEffect, useState } from \"react\";\r\n\r\n\r\nexport const BillListing = ({bills, viewBill}) => {\r\n\r\n  let yearStep = 31556952000;\r\n  const years = [\r\n    {name: \"2020\", value: 1577808000000},\r\n    {name: \"2019\", value: 1546272000000}\r\n  ]\r\n\r\n\r\n\r\n  let [selectedYear, setSelectedYear] = useState(1577808000000)\r\n  let [results, setResults] = useState(bills\r\n    .sort((a,b) => b.billNumber - a.billNumber)\r\n    .filter(item => ((item.periodTo - selectedYear) < yearStep)))\r\n  \r\n\r\n\r\n  useEffect(() => {\r\n    setResults(bills\r\n    .sort((a,b) => b.billNumber - a.billNumber)\r\n    .filter(item => ((item.periodTo - selectedYear) < yearStep)))\r\n  }, [bills, selectedYear, yearStep])\r\n  \r\n\r\n  return (\r\n    <table className=\"table table-hover table-striped text-center\">\r\n      <thead>\r\n        <tr>\r\n          <th scope=\"col\">Bill No.</th>\r\n          <th scope=\"col\">Period Covered</th>\r\n          <th scope=\"col\">Consumption</th>\r\n          <th scope=\"col\">Amount</th>\r\n          <th scope=\"col\">\r\n            \r\n            \r\n            <select \r\n              className=\"form-select\" \r\n              aria-label=\".form-select-lg example\"\r\n              onChange={(e) => {\r\n                setSelectedYear(e.target.value)\r\n              }}\r\n            >\r\n              {years.map(item => <option key={item.name} value={item.value}>{item.name}</option>)}\r\n            </select>     \r\n\r\n          </th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        {\r\n          (results.length !== 0) ? results.map(item => (\r\n            <tr key={item.billNumber}>\r\n              <th scope=\"row\">\r\n                {item.billNumber}\r\n              </th>\r\n              <td>\r\n                {\r\n                  `${new Date(item.periodFrom).toDateString().substring(4,7)}. ${new Date(item.periodFrom).toDateString().substring(8,10)} - \r\n                  ${new Date(item.periodTo).toDateString().substring(4,7)}. ${new Date(item.periodTo).toDateString().substring(8,10)}`\r\n                }\r\n              </td>\r\n              <td>\r\n                {`${item.cumUsed} Cu. Meters` }\r\n              </td>\r\n              <td>\r\n                {`PHP ${item.totalAmountDue}.00` }\r\n              </td>\r\n              <td className=\"d-flex justify-content-around\">\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"btn btn-sm btn-primary\"\r\n                  onClick={(e) => {viewBill(e.target.value)}}\r\n                  value={item.billNumber}\r\n                >\r\n                  View Details\r\n                </button>\r\n              </td>\r\n            </tr>\r\n          ))\r\n          :\r\n          (\r\n            <tr>\r\n              <td colSpan={5} className=\"py-4\">\r\n                <em>\r\n                  No Available Records for {new Date(selectedYear).toDateString()}\r\n                </em>\r\n              </td>\r\n            </tr>\r\n          )\r\n        }\r\n      </tbody>\r\n    </table>      \r\n  )\r\n}\r\n     ","\r\n\r\n\r\nexport default function Loader() {\r\n\r\n  \r\n\r\n  return (\r\n      <div className=\"d-flex w-100 align-items-center justify-content-center\" style={{\"height\": \"200px\"}}>\r\n        <div className=\"spinner-grow mx-2\" style={{\r\n          width: \"2.2rem\",\r\n          height : \"2.2rem\",\r\n          animationDelay: \"0.08s\"\r\n          }} role=\"status\">\r\n          <span className=\"visually-hidden\">Loading...</span>\r\n        </div>\r\n        <div className=\"spinner-grow mx-3\" style={{\r\n          width: \"3rem\",\r\n          height : \"3rem\",\r\n          animationDelay: \"0.16s\"\r\n          }} role=\"status\">\r\n          <span className=\"visually-hidden\">Loading...</span>\r\n        </div>\r\n        <div className=\"spinner-grow mx-2\" style={{\r\n          width: \"2.2rem\",\r\n          height : \"2.2rem\",\r\n          animationDelay: \"0.24s\"\r\n          }} role=\"status\">\r\n          <span className=\"visually-hidden\">Loading...</span>\r\n        </div>\r\n      </div>\r\n  ) \r\n  \r\n}","import { useEffect, useRef, useState } from \"react\"\r\n\r\nconst DOMAIN = \"https://sp1-blue-sparrow.herokuapp.com/api/v1\";\r\n\r\nexport const useFetch = ({endpoint, token}) => {\r\n  const [state, setState] = useState({data: null, loading: true});\r\n\r\n  const controllerRef = useRef(null);\r\n  \r\n  useEffect(() => {\r\n    controllerRef.current = new AbortController();\r\n  })\r\n\r\n  useEffect(() => {\r\n    const { signal } = controllerRef.current;\r\n    setState({data: null, loading: true});\r\n    fetch(DOMAIN + endpoint, {\r\n      method: \"GET\",\r\n      headers: { \"x-auth-token\": token },\r\n      signal\r\n    })\r\n    .then(response => response.text())\r\n    .then(x => {\r\n      setState({data: JSON.parse(x), loading: false});\r\n    })\r\n    .catch(e => {\r\n      alert(e)\r\n    })\r\n\r\n    return () => controllerRef.current.abort();\r\n  }, [endpoint, token]);\r\n\r\n\r\n  return state;\r\n}","import { useContext } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { BillListing } from \"../../components/BillListing/BillListing\";\r\nimport Loader from \"../../components/Loader/Loader\";\r\nimport { BillContext } from \"../../contexts/BillContext\";\r\nimport { useFetch } from \"../../hooks/useFetch\";\r\nimport { tokenParser } from \"../../utils/TokenParser\";\r\n\r\n  \r\n\r\n\r\n\r\nexport const Bills = () => {\r\n  const TOKEN = localStorage.getItem(\"token\");\r\n  const acctNumber = tokenParser(TOKEN).account.accountNumber;\r\n  const API = `/bill-management/bills/${acctNumber}`;\r\n  \r\n\r\n  const { data } = useFetch({\r\n    endpoint: API,\r\n    token: TOKEN \r\n  });\r\n\r\n  let history = useHistory();\r\n\r\n  let {setBillOnDisplay} = useContext(BillContext);\r\n\r\n\r\n  const handleViewBill = (billNo) => {\r\n    let viewThis = data.find(item => item.billNumber === parseInt(billNo));\r\n    setBillOnDisplay(viewThis);\r\n    history.push({\r\n      pathname: `/customer/bills/${billNo}`,\r\n      state: { from: history.location }\r\n    })\r\n  };\r\n  \r\n  const showLoadingScreen = (res, handle) => {\r\n    if (!res) {\r\n      return (\r\n        <Loader />\r\n      )\r\n    } else {\r\n      return (\r\n        <BillListing \r\n          bills={res}  \r\n          viewBill={handle} \r\n        />\r\n      ) \r\n    }\r\n\r\n  }\r\n\r\n\r\n\r\n  return (\r\n    <div className=\"container pt-2\">\r\n      <p className=\"display-5 text-center py-3\">\r\n          My Bills\r\n      </p>\r\n      <div className=\"row pt-2\">\r\n        <div className=\"col-12 col-md-10 m-auto\">\r\n          {showLoadingScreen(data,handleViewBill)}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\n\r\n      \r\n      // <div className=\"row\">\r\n      //   <div className=\"col-12 col-md-10 m-auto pt-2\">\r\n      //     <BillCard bill={onDisplay} />\r\n      //   </div>\r\n      // </div>      ","import { useContext } from \"react\";\r\nimport { Route, Switch, useRouteMatch } from \"react-router-dom\"\r\nimport { BillCard } from \"../../components/BillCard/BillCard\";\r\nimport { BillContext } from \"../../contexts/BillContext\";\r\nimport { Bills } from \"../Bills/Bills\";\r\n\r\n\r\n\r\nexport const BillsPage = () => {\r\n\r\n  let {path} = useRouteMatch();\r\n\r\n  \r\n  let {billOnDisplay} = useContext(BillContext);\r\n\r\n\r\n  return (\r\n    <Switch>\r\n      <Route exact path={path}>\r\n        <Bills />\r\n      </Route>\r\n      <Route path={`${path}/:billNo`}>\r\n        <BillCard bill={billOnDisplay} />\r\n      </Route>\r\n    </Switch>\r\n    \r\n  )\r\n}","import { useEffect, useState } from \"react\";\r\n\r\n\r\nexport const useConsumptionAmount = ({consumption}) => {\r\n  const [state, setState] = useState({});\r\n  \r\n  useEffect(() => {\r\n    let excess = consumption - 10;\r\n    let excessAmount = (excess > 0) ? (excess * 11) : 0;\r\n    setState({\r\n      chargeTenBelow: 50,\r\n      chargeAboveTen: excessAmount,\r\n      total: 50 + excessAmount\r\n    });\r\n  }, [consumption])\r\n\r\n  return state;\r\n}","import { useHistory } from \"react-router-dom\";\r\nimport Loader from \"../../components/Loader/Loader\";\r\nimport { useConsumptionAmount } from \"../../hooks/useConsumptionAmount\";\r\nimport { useFetch } from \"../../hooks/useFetch\";\r\nimport { tokenParser } from \"../../utils/TokenParser\";\r\nimport \"./style.css\";\r\n\r\n\r\nexport const CustomerPage = () => {\r\n  const TOKEN = localStorage.getItem(\"token\");\r\n  const acctNumber = tokenParser(TOKEN).account.accountNumber;\r\n  const API = `/account-management/accounts/${acctNumber}/account`;\r\n  const history = useHistory();\r\n  \r\n  const { data } = useFetch({\r\n    endpoint: API,\r\n    token: TOKEN \r\n  });\r\n\r\n\r\n  const {total} = useConsumptionAmount({consumption: data?.lastBillReading});\r\n\r\n  const months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];\r\n  \r\n  const showLoadingScreen = (res) => {\r\n    if (!res) {\r\n      return (\r\n        <Loader />\r\n      )\r\n    } else return (\r\n      <dl className=\"row pt-4\">\r\n        <dt className=\"col-sm-3 h5\">Name</dt>\r\n        <dd className=\"col-sm-9\">\r\n          {data.fullName}\r\n        </dd>\r\n        <dt className=\"col-sm-3 h5\">Address</dt>\r\n        <dd className=\"col-sm-9\">\r\n          {data.address ? data.address : \"No Address\"}\r\n        </dd>\r\n        <dt className=\"col-sm-3 h5\">Mobile No.</dt>\r\n        <dd className=\"col-sm-9\">\r\n          {data.mobileNumber === undefined ? \"No Mobile Number\" : \r\n          `${data.mobileNumber.substring(0,3)} ${data.mobileNumber.substring(3,6)}-${data.mobileNumber.substring(6,9)}-${data.mobileNumber.substring(9)}`}   \r\n        </dd>\r\n        <dt className=\"col-sm-3 h5\">Meter Serial No.</dt>\r\n        <dd className=\"col-sm-9\">\r\n          {data.meterSerialNumber ? data.meterSerialNumber : \"NO METER SERIAL NO.\"}\r\n        </dd>\r\n        <hr className=\"my-4\" />\r\n        <dt className=\"col-12 pb-2 h5\">Most Recent Bill Details</dt>\r\n        <dt className=\"col-sm-3\">Month Covered</dt>\r\n        <dd className=\"col-sm-9\">\r\n          {\r\n            data.lastBillPeriodTo === 0 ? \"-\" \r\n            : `${months[new Date(data.lastBillPeriodTo).getMonth()-1]}-${months[new Date(data.lastBillPeriodTo).getMonth()]}`\r\n          }\r\n        </dd>\r\n        <dt className=\"col-sm-3\">Meter Reading</dt>\r\n        <dd className=\"col-sm-9\">\r\n          {data.lastBillReading === 0 ? \"-\" : `${data.lastBillReading} Cu. Meters`}\r\n        </dd>\r\n        <dt className=\"col-sm-3\">Amount Due</dt>\r\n        <dd className=\"col-sm-9\">\r\n          {`Php ${total}.00`}\r\n        </dd>\r\n        <div>\r\n        <button\r\n          className=\"btn btn-success btn-lg w-25 mt-3\"\r\n          type=\"button\"\r\n          onClick={() => {\r\n            history.push({\r\n              pathname: \"/customer/bills\",\r\n              state: {from: history.location}\r\n            })\r\n          }}\r\n        >\r\n          View Bills\r\n        </button>\r\n      </div>\r\n      </dl>\r\n    )\r\n  }\r\n\r\n\r\n  \r\n\r\n\r\n  return (\r\n    <div className=\"container customer-page-wrapper\">\r\n      <div className=\"row pt-3\">\r\n        <div className=\"col-12 col-md-8\">\r\n          <p className=\"display-5\">\r\n            My Account\r\n          </p>\r\n        </div>\r\n        <div className=\"col-12 col-md-4 d-flex align-items-center justify-content-end\">\r\n          <p className=\"h5\">\r\n            Account No.: <span className=\"font-weight-lighter\">{acctNumber}</span>\r\n          </p>\r\n        </div>\r\n      </div>\r\n\r\n      {showLoadingScreen(data)}\r\n\r\n\r\n      \r\n    </div>\r\n  )\r\n}\r\n\r\n\r\n// Account No.:\r\n// Meter Serial No.:\r\n\r\n// Name:\r\n// Address:\r\n// Mobile No.: ","import { createContext, useContext, useState } from \"react\";\r\n\r\n\r\nexport const BillAccountContext = createContext();\r\n\r\nexport const BillAccountProvider = ({children}) => {\r\n  const [billAccount, setBillAccount] = useState({});\r\n\r\n  return (\r\n    <BillAccountContext.Provider value={{billAccount, setBillAccount}}>\r\n      {children}\r\n    </BillAccountContext.Provider>\r\n  )\r\n}\r\n\r\n\r\nexport const useBillAccountContext = () => {\r\n  return useContext(BillAccountContext);\r\n}","import { useConsumptionAmount } from \"../../hooks/useConsumptionAmount\";\r\nimport \"./style.css\"\r\n\r\n\r\nexport const AccountDetailsModal = ({account, setShowModal}) => {\r\n\r\n  function handleClose() {\r\n    setShowModal(false)\r\n  }\r\n\r\n  const months = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];\r\n\r\n  const {total} = useConsumptionAmount(account.lastBillReading);\r\n\r\n  return (\r\n    <div className=\"account-details-modal\">\r\n      <div className=\"modal-dialog  modal-lg\">\r\n        <div className=\"modal-content\">\r\n          <div className=\"modal-header\">\r\n            <p className=\"modal-title h4\" id=\"account-details-modal\">\r\n              {`Account No.: ${account.accountNumber}`}\r\n            </p>\r\n            <button \r\n              type=\"button\" \r\n              className=\"btn-close\" \r\n              aria-label=\"Close\"\r\n              onClick={handleClose}\r\n              ></button>\r\n          </div>\r\n          <div className=\"modal-body p-4\">\r\n            <div className=\"row g-4\">\r\n              <div className=\"col-10 h4 font-weight-normal\">Account Information</div>\r\n              <div className=\"col-md-5 d-flex justify-content-between mr-auto\">\r\n                <span className=\"font-weight-bold\">Full Name:</span>\r\n                <span>{account.fullName}</span> \r\n              </div>\r\n              <div className=\"col-md-5 d-flex justify-content-between\">\r\n                <span className=\"font-weight-bold\">Address: </span>\r\n                <span> {account.address} </span>\r\n              </div>\r\n              <div className=\"col-md-5 d-flex justify-content-between mr-auto\">\r\n                <span className=\"font-weight-bold\">Mobile No.: </span>\r\n                <span>\r\n                  {\r\n                    `${account.mobileNumber.substring(0,3)} ${account.mobileNumber.substring(3,6)}-${account.mobileNumber.substring(6,9)}-${account.mobileNumber.substring(9)}`\r\n                  }\r\n                </span>\r\n              </div>\r\n              <div className=\"col-md-5 d-flex justify-content-between\">\r\n                <span className=\"font-weight-bold\">Meter Serial No.: </span>\r\n                <span> {account.meterSerialNumber} </span>\r\n              </div>\r\n            </div>\r\n            <hr className=\"my-4\" />\r\n            <div className=\"row g-4\">\r\n              <div className=\"col-6 h5\">Previous Statement Summary</div>\r\n              <div className=\"col-md-5 d-flex justify-content-between ml-auto\">\r\n                <span className=\"font-weight-bold\">Month Covered:</span>\r\n                  {\r\n                    account.lastBillPeriodTo === 0 ? \"-\" \r\n                    : `${months[new Date(account.lastBillPeriodTo).getMonth()-1]} - ${months[new Date(account.lastBillPeriodTo).getMonth()]}`\r\n                  }\r\n              </div>\r\n              <div className=\"col-md-5 d-flex justify-content-between mr-auto\">\r\n                <span className=\"font-weight-bold\">Amount Due: </span>\r\n                <span>\r\n                  {account.lastBillReading === 0 ? \"-\" : `Php ${total}.00`}\r\n                </span>\r\n              </div>\r\n              <div className=\"col-md-5 d-flex justify-content-between\">\r\n                <span className=\"font-weight-bold\">Meter Reading: </span>\r\n                <span> \r\n                  {account.lastBillReading === 0 ? \"-\" : `${account.lastBillReading} Cu. Meters`}\r\n                </span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"modal-footer\">\r\n            <button \r\n              type=\"button\" \r\n              className=\"btn btn-secondary\" \r\n              onClick={handleClose}\r\n            >\r\n              Close\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>      \r\n    </div>\r\n  )\r\n}","import { useEffect, useState } from \"react\"\r\n\r\n\r\n\r\nexport const useTableSort = ({data, sortBy}) => {\r\n  const [state, setState] = useState({\r\n    array: [...data],\r\n    arrow: null\r\n  });\r\n\r\n  useEffect(() => {\r\n    switch (true) {\r\n      case (sortBy === \"accountNumberDesc\" ):\r\n        setState({\r\n          array: [...data].sort((a,b) => (a.accountNumber < b.accountNumber) ? 1 : ((b.accountNumber < a.accountNumber) ? -1 : 0)),\r\n          arrow: { accountNumber: \"down\"}\r\n        })\r\n        break;\r\n      case (sortBy === \"fullNameAsc\"):\r\n        setState({\r\n          array: [...data].sort((a,b) => (a.fullName > b.fullName) ? 1 : ((b.fullName > a.fullName) ? -1 : 0)),\r\n          arrow: { fullName: \"up\"}\r\n        })\r\n        break;\r\n      case (sortBy === \"fullNameDesc\" ):\r\n        setState({\r\n          array: [...data].sort((a,b) => (a.fullName < b.fullName) ? 1 : ((b.fullName < a.fullName) ? -1 : 0)),\r\n          arrow: { fullName: \"down\"}\r\n        })\r\n        break;\r\n      case (sortBy === \"barangayAsc\"):\r\n        setState({\r\n          array: [...data].sort((a,b) => (a.barangay > b.barangay) ? 1 : ((b.barangay > a.barangay) ? -1 : 0)),\r\n          arrow: { barangay: \"up\" }\r\n        })\r\n        break;\r\n      case (sortBy === \"barangayDesc\" ):\r\n        setState({\r\n          array: [...data].sort((a,b) => (a.barangay < b.barangay) ? 1 : ((b.barangay < a.barangay) ? -1 : 0)),\r\n          arrow: { barangay: \"down\" }\r\n        })\r\n        break;\r\n      case (sortBy === \"lastBillReadingAsc\"):\r\n        setState({\r\n          array: [...data].sort((a,b) => a.lastBillReading - b.lastBillReading),\r\n          arrow: { lastBillReading: \"up\" }\r\n        })\r\n        break;\r\n      case (sortBy === \"lastBillReadingDesc\"):\r\n        setState({\r\n          array: [...data].sort((a,b) => b.lastBillReading - a.lastBillReading),\r\n          arrow: { lastBillReading: \"down\" }\r\n        })\r\n        break;\r\n      case (sortBy === \"lastBillPeriodToAsc\"):\r\n        setState({\r\n          array: [...data].sort((a,b) => a.lastBillPeriodTo - b.lastBillPeriodTo),\r\n          arrow: { lastBillPeriodTo: \"up\" }\r\n        })\r\n        break;\r\n      case (sortBy === \"lastBillPeriodToDesc\"):\r\n        setState({\r\n          array: [...data].sort((a,b) => b.lastBillPeriodTo - a.lastBillPeriodTo),\r\n          arrow: { lastBillPeriodTo: \"down\" }\r\n        })\r\n        break;\r\n    \r\n      default:\r\n        setState({\r\n          array: [...data].sort((a,b) => (a.accountNumber > b.accountNumber) ? 1 : ((b.accountNumber > a.accountNumber) ? -1 : 0)),\r\n          arrow: { accountNumber: \"up\"}\r\n        })\r\n        break;\r\n    }\r\n\r\n  }, [data, sortBy])\r\n\r\n\r\n  return state;\r\n}","\r\n\r\n\r\nexport const ArrowUp = () => {\r\n\r\n  return (\r\n    <svg width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" className=\"bi bi-arrow-up\" fill=\"currentColor\" xmlns=\"http://www.w3.org/2000/svg\">\r\n      <path fillRule=\"evenodd\" d=\"M8 15a.5.5 0 0 0 .5-.5V2.707l3.146 3.147a.5.5 0 0 0 .708-.708l-4-4a.5.5 0 0 0-.708 0l-4 4a.5.5 0 1 0 .708.708L7.5 2.707V14.5a.5.5 0 0 0 .5.5z\"/>\r\n    </svg>\r\n  )\r\n}\r\n\r\n\r\nexport const ArrowDown = () => {\r\n\r\n  return (\r\n    <svg width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" className=\"bi bi-arrow-down\" fill=\"currentColor\"   xmlns=\"http://www.w3.org/2000/svg\">\r\n      <path fillRule=\"evenodd\" d=\"M8 1a.5.5 0 0 1 .5.5v11.793l3.146-3.147a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 .708-.708L7.5 13.293V1.5A.5.5 0 0 1 8 1z\"/>\r\n    </svg>\r\n  )\r\n}","import { useState } from \"react\";\r\nimport { useTableSort } from \"../../hooks/useTableSort\";\r\nimport { ArrowUp, ArrowDown } from \"../../pages/main/Accounts/SvgIcons\";\r\n\r\nexport const AccountsListing = ({accounts, setShowModal, selectAccount}) => {\r\n\r\n\r\n  const [sortBy, setSortBy] = useState(\"\");\r\n\r\n  const { array, arrow } = useTableSort({\r\n    data: accounts,\r\n    sortBy: sortBy\r\n  });\r\n\r\n  const arrowIcons = {\r\n    up: <ArrowUp />,\r\n    down: <ArrowDown />\r\n  }\r\n\r\n\r\n  function sortByAccountNumber() {\r\n    if (sortBy === \"accountNumberAsc\") {\r\n      setSortBy(\"accountNumberDesc\")\r\n    } else {\r\n      setSortBy(\"accountNumberAsc\")\r\n    }\r\n  }\r\n  function sortByFullName() {\r\n    if (sortBy === \"fullNameAsc\") {\r\n      setSortBy(\"fullNameDesc\")\r\n    } else {\r\n      setSortBy(\"fullNameAsc\")\r\n    }\r\n  }\r\n  function sortByBarangay() {\r\n    if (sortBy === \"barangayAsc\") {\r\n      setSortBy(\"barangayDesc\")\r\n    } else {\r\n      setSortBy(\"barangayAsc\")\r\n    }\r\n  }\r\n  function sortByLastBillReading() {\r\n    if (sortBy === \"lastBillReadingAsc\") {\r\n      setSortBy(\"lastBillReadingDesc\")\r\n    } else {\r\n      setSortBy(\"lastBillReadingAsc\")\r\n    }\r\n  }\r\n  function sortByLastBillPeriodTo() {\r\n    if (sortBy === \"lastBillPeriodToAsc\") {\r\n      setSortBy(\"lastBillPeriodToDesc\")\r\n    } else {\r\n      setSortBy(\"lastBillPeriodToAsc\")\r\n    }\r\n  }\r\n\r\n\r\n\r\n  // function handleNewBill(account) {\r\n  //   selectAccount(account);\r\n  //   setShowModal(true);\r\n  // }\r\n\r\n\r\n  return (\r\n    <table className=\"table table-hover table-striped w-100 align-middle\" >\r\n      <colgroup>\r\n        <col style={{ width: \"18%\"}} />\r\n        <col style={{ width: \"25%\"}} />\r\n        <col style={{ width: \"15%\"}} />\r\n        <col style={{ width: \"12.5%\"}} />\r\n        <col style={{ width: \"12.5%\"}} />\r\n        <col style={{ width: \"17%\"}} />\r\n      </colgroup>\r\n      <thead>\r\n        <tr>\r\n          <th scope=\"col\" className=\"my-0 py-0\">\r\n            <div \r\n              style={{cursor: \"pointer\"}} \r\n              className=\"d-flex w-100 justify-content-between align-items-center py-2\" \r\n              onClick={sortByAccountNumber}\r\n              title=\"Sort by Account No.\"\r\n            >\r\n              <div>\r\n                Account No.\r\n              </div>\r\n              {arrow?.accountNumber && arrowIcons[arrow.accountNumber]}\r\n            </div>\r\n          </th>\r\n          <th scope=\"col\" className=\"my-0 py-0\">\r\n            <div \r\n              style={{cursor: \"pointer\"}} \r\n              className=\"d-flex w-100 justify-content-between align-items-center py-2\" \r\n              onClick={sortByFullName}\r\n              title=\"Sort by Full Name\"\r\n            >\r\n              <div>Full Name</div>\r\n              {arrow?.fullName && arrowIcons[arrow.fullName]}\r\n            </div>\r\n          </th>\r\n          <th scope=\"col\" className=\"my-0 py-0\">\r\n            <div \r\n              style={{cursor: \"pointer\"}} \r\n              className=\"d-flex w-100 justify-content-between align-items-center py-2\" \r\n              onClick={sortByBarangay}\r\n              title=\"Sort by Barangay\"\r\n            >\r\n              <div>Barangay</div>\r\n              {arrow?.barangay && arrowIcons[arrow.barangay]}\r\n            </div>\r\n          </th>\r\n          <th scope=\"col\" className=\"my-0 py-0\">\r\n            <div \r\n              style={{cursor: \"pointer\"}} \r\n              className=\"d-flex w-100 justify-content-between align-items-center py-2\" \r\n              onClick={sortByLastBillReading}\r\n              title=\"Sort by Previous Reading\"\r\n            >\r\n              <div>Reading</div>\r\n              {arrow?.lastBillReading && arrowIcons[arrow.lastBillReading]}\r\n            </div>\r\n          </th>\r\n          <th scope=\"col\" className=\"my-0 py-0\">  \r\n            <div \r\n              style={{cursor: \"pointer\"}} \r\n              className=\"d-flex w-100 justify-content-between align-items-center py-2\" \r\n              onClick={sortByLastBillPeriodTo}\r\n              title=\"Sort by Month Covered of Last Bill\"\r\n            >\r\n              <div>Month</div>\r\n              {arrow?.lastBillPeriodTo && arrowIcons[arrow.lastBillPeriodTo]}\r\n            </div>\r\n          </th>\r\n          <th scope=\"col\" className=\"my-0 py-0\"></th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        {array && array.map(item => {\r\n          return (\r\n            <tr key={item.accountNumber}>\r\n              <th scope=\"row\">\r\n                {item.accountNumber}\r\n              </th>\r\n              <td>\r\n                {item.fullName}\r\n              </td>\r\n              <td>\r\n                {item.address.split(\",\")[0]}\r\n              </td>\r\n              <td>\r\n                {item.lastBillReading}\r\n              </td>\r\n              <td>\r\n                {\r\n                  item.lastBillPeriodTo === 0 ?\r\n                  \"\"\r\n                  :\r\n                  new Date(item.lastBillPeriodTo).toDateString().substring(4,7)\r\n                }\r\n              </td>\r\n              <td className=\"d-flex justify-content-center\">\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"btn btn-sm btn-primary px-2\"\r\n                  onClick={() => {\r\n                    selectAccount(item);\r\n                    setShowModal(true);\r\n                  }}\r\n                >\r\n                  View Details\r\n                </button>\r\n              </td>\r\n            </tr>\r\n          )\r\n        })}\r\n        \r\n      </tbody>\r\n    </table>    \r\n  )\r\n}","import { useEffect, useState } from \"react\";\r\nimport { AccountDetailsModal } from \"../../../components/AccountDetailsModal/AccountDetailsModal\";\r\nimport { AccountsListing } from \"../../../components/AccountsListing/AccountsListing\"\r\nimport Loader from \"../../../components/Loader/Loader\";\r\nimport { useAccountsContext } from \"../../../contexts/AllAccountsContext\";\r\n\r\n\r\nexport const Accounts = () => {\r\n  \r\n  const [loading, setLoading] = useState(true);\r\n\r\n  const { accounts } = useAccountsContext();\r\n\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [viewAccount, setViewAccount] = useState({});\r\n\r\n  useEffect(() => {\r\n    setTimeout(() => {\r\n      setLoading(false);\r\n    }, 1500);\r\n  })\r\n\r\n  return (\r\n    <>\r\n      <div className=\"container h-100\">\r\n        {showModal && <AccountDetailsModal account={viewAccount} setShowModal={setShowModal}  />}\r\n        <p className=\"display-5 text-center py-3\">\r\n          Accounts\r\n        </p>\r\n        {\r\n          loading ?\r\n          <div className=\"row py-4\">\r\n            <Loader />\r\n          </div>\r\n          :\r\n          <div className=\"row pt-2\">\r\n            <div className=\"col-12 col-md-10 m-auto\">\r\n              <AccountsListing \r\n                accounts={accounts} \r\n                setShowModal={setShowModal} \r\n                selectAccount={setViewAccount} \r\n              />\r\n            </div>\r\n          </div>\r\n        }\r\n      </div>\r\n    </>\r\n  )\r\n}","import { useEffect, useState } from \"react\"\r\n\r\n\r\nexport const AccountNumberField = ({values, setValues, errors}) => {\r\n\r\n  function handleChange(e) {\r\n    const regex = /^[0-9 -]*$/;\r\n    if (regex.test(e.target.value)) {\r\n      setValues({...values, accountNumber: e.target.value.trim()})\r\n    } else {\r\n      e.target.value.trim()\r\n    }\r\n  };\r\n\r\n  const [state, setState] = useState(\"form-control\");\r\n\r\n  useEffect(() => {\r\n    if (!errors.accountNumber) {\r\n      setState(\"form-control\")\r\n    } else {\r\n      setState(\"form-control is-invalid\")\r\n    }\r\n  }, [errors])\r\n\r\n  return (\r\n    <div className=\"col-md-6\">\r\n      <label\r\n        htmlFor=\"accountNumberId\" \r\n        className=\"form-label\"\r\n      >\r\n        Account Number\r\n      </label>\r\n      <input \r\n        type=\"text\" \r\n        className={state}\r\n        id=\"accountNumberId\"\r\n        placeholder=\"ex. 2020-00-01\"\r\n        value={values.accountNumber || \"\"}\r\n        onChange={handleChange}\r\n      />\r\n      <div className=\"invalid-feedback\">\r\n        {errors.accountNumber || \"\"}\r\n      </div>\r\n    </div>\r\n  )\r\n}","import { useEffect, useState } from \"react\"\r\n\r\n\r\nexport const AddressField = ({errors}) => {\r\n\r\n  \r\n\r\n  const [state, setState] = useState(\"form-control\");\r\n\r\n  useEffect(() => {\r\n    if (!errors.address) {\r\n      setState(\"form-control\")\r\n    } else {\r\n      setState(\"form-control is-invalid\")\r\n    }\r\n  }, [errors])\r\n\r\n  return (\r\n    <div className=\"col-md-6\">\r\n      <label\r\n        htmlFor=\"addressId\" \r\n        className=\"form-label\"\r\n      >\r\n        Address\r\n      </label>\r\n      <input \r\n        type=\"text\" \r\n        className={state}\r\n        id=\"addressId\"\r\n        value={\"Alcantara, Romblon\"}\r\n        disabled={true}\r\n      />\r\n      <div className=\"invalid-feedback\">\r\n        {errors.address || \"\"}\r\n      </div>\r\n    </div>\r\n  )\r\n}","import { useEffect, useState } from \"react\"\r\n\r\n\r\nexport const FullNameField = ({values, setValues, errors}) => {\r\n\r\n  function handleChange(e) {\r\n    setValues({...values, fullName: e.target.value})\r\n  };\r\n\r\n  const [state, setState] = useState(\"form-control\");\r\n\r\n  useEffect(() => {\r\n    if (!errors.fullName) {\r\n      setState(\"form-control\")\r\n    } else {\r\n      setState(\"form-control is-invalid\")\r\n    }\r\n  }, [errors])\r\n\r\n  return (\r\n    <div className=\"col-md-6\">\r\n      <label\r\n        htmlFor=\"fullNameId\" \r\n        className=\"form-label\"\r\n      >\r\n        Full Name\r\n      </label>\r\n      <input \r\n        type=\"text\" \r\n        className={state}\r\n        id=\"fullNameId\"\r\n        placeholder=\"ex. Juan Dela Cruz\"\r\n        value={values.fullName || \"\"}\r\n        onChange={handleChange} \r\n      />\r\n      <div className=\"invalid-feedback\">\r\n        {errors.fullName || \"\"}\r\n      </div>\r\n    </div>\r\n  )\r\n}","import { useEffect, useState } from \"react\"\r\n\r\n\r\nexport const MeterSerialNumberField = ({values, setValues, errors}) => {\r\n\r\n  function handleChange(e) {\r\n    setValues({...values, meterSerialNumber: e.target.value})\r\n  };\r\n\r\n  const [state, setState] = useState(\"form-control\");\r\n\r\n  useEffect(() => {\r\n    if (!errors.meterSerialNumber) {\r\n      setState(\"form-control\")\r\n    } else {\r\n      setState(\"form-control is-invalid\")\r\n    }\r\n  }, [errors])\r\n\r\n  return (\r\n    <div className=\"col-md-6\">\r\n      <label\r\n        htmlFor=\"meterSerialNumberId\" \r\n        className=\"form-label\"\r\n      >\r\n        Meter Serial Number\r\n      </label>\r\n      <input \r\n        type=\"text\" \r\n        className={state}\r\n        id=\"meterSerialNumberId\"\r\n        placeholder=\"ex. EVJ 64352341\"\r\n        value={values.meterSerialNumber || \"\"}\r\n        onChange={handleChange} \r\n      />\r\n      <div className=\"invalid-feedback\">\r\n        {errors.meterSerialNumber || \"\"}\r\n      </div>\r\n    </div>\r\n  )\r\n}","import { useEffect, useState } from \"react\"\r\n\r\n\r\nexport const MobileNumberField = ({values, setValues, errors}) => {\r\n\r\n  function handleChange(e) {\r\n    const regex = /^([+0]63)?[0-9]*$/;\r\n    if (regex.test(e.target.value) && e.target.value.length < 14 && e.target.value.length >= 3) {\r\n      setValues({...values, mobileNumber: e.target.value})\r\n    } else e.target.value.trim();\r\n  };\r\n\r\n  const [state, setState] = useState(\"form-control\");\r\n\r\n  useEffect(() => {\r\n    if (!errors.mobileNumber) {\r\n      setState(\"form-control\")\r\n    } else {\r\n      setState(\"form-control is-invalid\")\r\n    }\r\n  }, [errors])\r\n\r\n  return (\r\n    <div className=\"col-md-6\">\r\n      <label\r\n        htmlFor=\"mobileNumberId\" \r\n        className=\"form-label\"\r\n      >\r\n        Mobile Number\r\n      </label>\r\n      <input \r\n        type=\"text\" \r\n        className={state}\r\n        id=\"mobileNumberId\"\r\n        placeholder=\"ex. 9179876543\"\r\n        value={values.mobileNumber || \"\"}\r\n        onChange={handleChange} \r\n      />\r\n      <div className=\"invalid-feedback\">\r\n        {errors.mobileNumber || \"\"}\r\n      </div>\r\n    </div>\r\n  )\r\n}","\r\n\r\n\r\nexport const BarangayField = ({values, setValues}) => {\r\n\r\n  const barangayList = [\r\n    {\r\n      label: \"Poblacion\",\r\n      value: \"POB\"\r\n    },\r\n    {\r\n      label: \"Gui-ob\",\r\n      value: \"GUI\"\r\n    },\r\n    {\r\n      label: \"Madalag\",\r\n      value: \"MAD\"\r\n    },\r\n    {\r\n      label: \"Bagsik\",\r\n      value: \"BAG\"\r\n    },\r\n    {\r\n      label: \"Lawan\",\r\n      value: \"LAW\"\r\n    },\r\n    {\r\n      label: \"Camili\",\r\n      value: \"CAM\"\r\n    },\r\n  ];\r\n\r\n  const addressList = {\r\n    POB: \"Poblacion\",\r\n    GUI: \"Gui-ob\",\r\n    MAD: \"Madalag\",\r\n    BAG: \"Bagsik\",\r\n    LAW: \"Lawan\",\r\n    CAM: \"Camili\"\r\n  };\r\n    \r\n  \r\n\r\n  function handleChange(e) {\r\n    setValues(\r\n      {\r\n        ...values, \r\n        barangay: e.target.value,\r\n        address: `${addressList[`${e.target.value}`]}, Alcantara, Romblon`\r\n      }\r\n    )\r\n    console.log(addressList[`${e.target.value}`]);\r\n  }\r\n\r\n  return (\r\n    <div className=\"col-md-6\">\r\n      <label \r\n        htmlFor=\"barangayId\" \r\n        className=\"form-label\"\r\n      >\r\n        Barangay\r\n      </label>\r\n      <select \r\n        id=\"barangayId\" \r\n        className=\"form-select\" \r\n        defaultChecked={true}\r\n        defaultValue={barangayList[0].value}\r\n        onChange={handleChange}\r\n      >\r\n        {barangayList.map(item => (\r\n          <option key={item.label} value={item.value}>\r\n            {item.label}\r\n          </option>\r\n        ))}\r\n      </select> \r\n    </div> \r\n  )\r\n}","\r\n\r\nexport const NewOrExistingField = ({values, setValues}) => {\r\n\r\n  \r\n\r\n  return (\r\n    <div className=\"col-md-12\">\r\n      <p className=\"form-check-label text-center font-weight-bold\">\r\n        Select if Account is New or Existing\r\n      </p>\r\n      <div className=\"col-md-12 d-flex justify-content-center\">\r\n        <div className=\"form-check form-check-inline mx-5\">\r\n          <input \r\n            className=\"form-check-input\" \r\n            type=\"radio\" \r\n            name=\"newOrExistingAccountOptions\" \r\n            id=\"newAccountId\"\r\n            value={false}\r\n            checked={!values.existing} \r\n            onChange={() => {\r\n              setValues({\r\n                ...values, \r\n                existing: false,\r\n                lastBillNumber: 0,\r\n                lastBillReading: 0,\r\n                lastBillPeriodTo: 0\r\n              })\r\n            }}\r\n          />\r\n          <label className=\"form-check-label\" htmlFor=\"newAccountId\">New</label>\r\n        </div>\r\n        <div className=\"form-check form-check-inline mx-5\">\r\n          <input \r\n            className=\"form-check-input\" \r\n            type=\"radio\" \r\n            name=\"newOrExistingAccountOptions\" \r\n            id=\"existingAccountId\" \r\n            value={true}\r\n            checked={values.existing} \r\n            onChange={() => {\r\n              setValues({\r\n                ...values, \r\n                existing: true,\r\n                lastBillPeriodTo: 1580140800000\r\n              })\r\n            }}\r\n          />\r\n          <label className=\"form-check-label\" htmlFor=\"existingAccountId\">Existing</label>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}","import { useEffect, useState } from \"react\";\r\n\r\n\r\n\r\nexport const LastBillDetailsFields = ({values, setValues, errors}) => {\r\n\r\n  const monthList = [\r\n    {\r\n      label: \"January\",\r\n      value: 1580140800000\r\n    },\r\n    {\r\n      label: \"February\",\r\n      value: 1582819200000\r\n    },\r\n    {\r\n      label: \"March\",\r\n      value: 1585324800000\r\n    },\r\n    {\r\n      label: \"April\",\r\n      value: 1588003200000\r\n    },\r\n    {\r\n      label: \"May\",\r\n      value: 1590595200000\r\n    },\r\n    {\r\n      label: \"June\",\r\n      value: 1593273600000\r\n    },\r\n    {\r\n      label: \"July\",\r\n      value: 1595865600000\r\n    },\r\n    {\r\n      label: \"August\",\r\n      value: 1598544000000\r\n    },\r\n    {\r\n      label: \"September\",\r\n      value: 1601222400000\r\n    },\r\n    {\r\n      label: \"October\",\r\n      value: 1603814400000\r\n    },\r\n    {\r\n      label: \"November\",\r\n      value: 1606492800000\r\n    },\r\n    {\r\n      label: \"December\",\r\n      value: 1609084800000\r\n    }\r\n  ];\r\n\r\n  const [lastBillNumberState, setLastBillNumberState] = useState(\"form-control\");\r\n  const [lastBillReadingState, setLastBillReadingState] = useState(\"form-control\");\r\n\r\n  useEffect(() => {\r\n    if (errors.lastBillNumber) {\r\n      setLastBillNumberState(s => s = \"form-control is-invalid\")\r\n    } else {\r\n      setLastBillNumberState(s => s = \"form-control\")\r\n    }\r\n    \r\n    if (errors.lastBillReading) {\r\n      setLastBillReadingState(s => s = \"form-control is-invalid\")\r\n    } else {\r\n      setLastBillReadingState(s => s = \"form-control\")\r\n    }\r\n  }, [errors])\r\n\r\n  return (\r\n    <div className=\"row g-3\">\r\n      <p className=\"font-weight-bold  my-0 py-0\">\r\n        Most Recent Bill Details:\r\n      </p>\r\n      <div className=\"col-md-3\">\r\n          <label htmlFor=\"lastBillNumberId\" className=\"form-label\">\r\n            Bill Number\r\n          </label>\r\n          <input \r\n            type=\"number\" \r\n            className={lastBillNumberState} \r\n            id=\"lastBillNumberId\" \r\n            onChange={(e) => {\r\n              setValues({...values, lastBillNumber: e.target.value})\r\n            }}\r\n          />\r\n          <div className=\"invalid-feedback\">\r\n            {errors.lastBillNumber || \"\"}\r\n          </div>\r\n        </div>\r\n        <div className=\"col-md-3\">\r\n          <label htmlFor=\"lastBillReadingId\" className=\"form-label\">\r\n            Reading\r\n          </label>\r\n          <input \r\n            type=\"number\"\r\n            className={lastBillReadingState}\r\n            id=\"lastBillReadingId\"\r\n            onChange={(e) => {\r\n              setValues({...values, lastBillReading: e.target.value})\r\n            }}\r\n          />\r\n          <div className=\"invalid-feedback\">\r\n            {errors.lastBillReading || \"\"}\r\n          </div>\r\n        </div>\r\n        <div className=\"col-md-3\">\r\n          <label htmlFor=\"lastBillYearId\" className=\"form-label\">\r\n            Year\r\n          </label>\r\n          <select \r\n            id=\"lastBillYearId\" \r\n            className=\"form-select\"\r\n          >\r\n            <option value={1577808000000} defaultChecked={true}>\r\n              2020\r\n            </option>\r\n          </select> \r\n        </div>\r\n        <div className=\"col-md-3\">\r\n          <label htmlFor=\"lastBillPeriodToId\" className=\"form-label\">\r\n            Month\r\n          </label>\r\n          <select \r\n            id=\"lastBillPeriodToId\" \r\n            className=\"form-select\"\r\n            defaultChecked={true}\r\n            onChange={(e) => {\r\n              setValues({...values, lastBillPeriodTo: e.target.value})\r\n            }}\r\n          >\r\n            {monthList.map(item => (\r\n              <option key={item.label} value={item.value}>\r\n                {item.label}\r\n              </option>\r\n            ))}\r\n          </select> \r\n        </div>\r\n      {/* <div className=\"col-md-12 d-flex justify-content-around\">\r\n        \r\n      </div> */}\r\n    </div>    \r\n  )\r\n}","import { validate } from \"./CreateAccountValidationRules\"\r\n\r\nconst CREATE_ACCOUNT_URI = \"https://sp1-blue-sparrow.herokuapp.com/api/v1/account-management/accounts/create\";\r\n\r\nexport const SubmitCreateAccountButton = (\r\n  { values,\r\n    errors, \r\n    setErrors, \r\n    setLoading, \r\n    setShowModal  }) => {\r\n  const TOKEN = localStorage.getItem(\"token\");\r\n  function handleMouseDown() {\r\n    setErrors(validate(values))\r\n  }\r\n\r\n  function handleMouseUp(e) {\r\n    if (Object.keys(errors).length > 0) {\r\n      return false;\r\n    } else {\r\n      console.log(\"SENDING\");\r\n      setLoading(true);\r\n      fetch(CREATE_ACCOUNT_URI, {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-type\": \"application/json\",\r\n          \"x-auth-token\": TOKEN\r\n        },\r\n        body: JSON.stringify(values)\r\n      })\r\n      .then(response => response.text())\r\n      .then(data => {\r\n        setLoading(false);\r\n        if (data === \"Success\") {\r\n          setShowModal(true);\r\n        } else {\r\n          setErrors({...errors, accountNumber: \"Account Number already taken\"})\r\n        }\r\n      })\r\n      .catch(e => {\r\n        console.log(e);\r\n        alert(\"Something went wrong...\");\r\n        setLoading(false);\r\n      })\r\n    }\r\n  }\r\n\r\n  \r\n  \r\n\r\n  return (\r\n    <div className=\"col-md-12 d-flex justify-content-center py-3\">\r\n      <button\r\n        type=\"button\"\r\n        className=\"btn btn-primary w-50\"\r\n        onMouseDown={handleMouseDown}\r\n        onMouseUp={handleMouseUp}\r\n      >\r\n        Submit\r\n      </button>\r\n    </div>\r\n  )\r\n}","\r\n\r\nexport const validate = (values) => {\r\n  let errors = {};\r\n  const mobileRegex = /^([+0]63)?[9]{1}[0-9]{9}$/;\r\n  const accountRegex = /^[0-9]{4}\\-?[0-9]{2}\\-?[0-9]+/;\r\n\r\n  if (!values.accountNumber) {\r\n    errors.accountNumber = \"Account Number is required\"\r\n  }\r\n  \r\n  if (!accountRegex.test(values.accountNumber)) {\r\n    errors.accountNumber = \"Invalid format (valid ex. 2016-09-03)\"\r\n  }\r\n\r\n  if (!values.fullName) {\r\n    errors.fullName = \"Full Name is required\"\r\n  }\r\n\r\n  if (!values.mobileNumber) {\r\n    errors.mobileNumber = \"Mobile Number is required\"\r\n  }\r\n  \r\n  if (!mobileRegex.test(values.mobileNumber)) {\r\n    errors.mobileNumber = \"Invalid mobile number (valid ex. +639065338541)\"\r\n  }\r\n\r\n  if (values.mobileNumber?.length < 13) {\r\n    errors.mobileNumber = \"Mobile Number is too short\"\r\n  }\r\n\r\n  if (!values.address) {\r\n    errors.address = \"Address is required\"\r\n  }\r\n\r\n  if (!values.meterSerialNumber) {\r\n    errors.meterSerialNumber = \"Meter Serial Number is required\"\r\n  }\r\n  \r\n  if (values.existing) {\r\n    if (!values.lastBillNumber) {\r\n      errors.lastBillNumber = \"Bill Number is required\"\r\n    }\r\n    if (!values.lastBillReading) {\r\n      errors.lastBillReading = \"Reading is required\"\r\n    }\r\n  }\r\n\r\n  return errors;\r\n}","import { useHistory } from \"react-router-dom\";\r\nimport \"./successModal.css\";\r\n\r\n\r\n\r\nexport const SuccessModal = ({setShowModal, setValues}) => {\r\n\r\n  const history = useHistory();\r\n  \r\n\r\n  function handleClose() {\r\n    setValues({\r\n      accountNumber: \"\",\r\n      meterSerialNumber: \"\",\r\n      fullName: \"\",\r\n      mobileNumber: \"+63\",\r\n      barangay: \"POB\",\r\n      address: \"Poblacion, Alcantara, Romblon\",\r\n      existing: false, \r\n      lastBillNumber: 0,\r\n      lastBillReading: 0,\r\n      lastBillPeriodTo: 0\r\n    });\r\n    setShowModal(false)\r\n  };\r\n\r\n  function handleViewAccounts() {\r\n    setShowModal(false)\r\n    history.push(\"/admin/accounts\");\r\n  };\r\n\r\n\r\n\r\n  return (\r\n    <div className=\"success-modal\">\r\n      <div className=\"modal-dialog modal-dialog-centered\">\r\n        <div className=\"modal-content\">\r\n          <div className=\"modal-header\">\r\n            <h5 className=\"modal-title\" id=\"exampleModalLabel\">Submission Successful</h5>\r\n            <button \r\n              type=\"button\" \r\n              className=\"btn-close\" \r\n              aria-label=\"Close\"\r\n              onClick={handleClose}></button>\r\n          </div>\r\n          <div className=\"modal-body\">\r\n            <p>\r\n              Account has been successfully created! \r\n            </p>\r\n            <p>\r\n              Go to Accounts page to view the newly created account or continue and create another account.\r\n            </p>\r\n          </div>\r\n          <div className=\"modal-footer\">\r\n            <button \r\n              type=\"button\" \r\n              className=\"btn btn-outline-primary\"\r\n              onClick={handleViewAccounts}\r\n            >\r\n              View Accounts\r\n            </button>\r\n            <button \r\n              type=\"button\" \r\n              className=\"btn btn-primary\" \r\n              onClick={handleClose}\r\n            >\r\n              Continue\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>      \r\n    </div>\r\n  )\r\n}","import { useState } from \"react\";\r\nimport \"./style.css\";\r\nimport { AccountNumberField } from \"../../../components/CreateAccountForm/AccountNumberField\";\r\nimport { AddressField } from \"../../../components/CreateAccountForm/AddressField\";\r\nimport { FullNameField } from \"../../../components/CreateAccountForm/FullNameField\";\r\nimport { MeterSerialNumberField } from \"../../../components/CreateAccountForm/MeterSerialNumberField\";\r\nimport { MobileNumberField } from \"../../../components/CreateAccountForm/MobileNumberField\";\r\nimport { BarangayField } from \"../../../components/CreateAccountForm/BarangayField\";\r\nimport { NewOrExistingField } from \"../../../components/CreateAccountForm/NewOrExistingField\";\r\nimport { LastBillDetailsFields } from \"../../../components/CreateAccountForm/LastBillDetailsFields\";\r\nimport { SubmitCreateAccountButton } from \"../../../components/CreateAccountForm/SubmitCreateAccountButton\";\r\nimport Loader from \"../../../components/Loader/Loader\";\r\nimport { SuccessModal } from \"../../../components/CreateAccountForm/SuccessModal\";\r\n\r\n\r\n\r\nexport const CreateAccount = () => {\r\n  \r\n  const [values, setValues] = useState({\r\n    barangay: \"POB\",\r\n    address: \"Poblacion, Alcantara, Romblon\",\r\n    mobileNumber: \"+63\",\r\n    existing: false, \r\n    lastBillNumber: 0, \r\n    lastBillReading: 0,\r\n    lastBillPeriodTo: 0\r\n  });\r\n\r\n  const [errors, setErrors] = useState({});\r\n\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const [showModal, setShowModal] = useState(false);\r\n\r\n  return (\r\n    <div className=\"container col-md-8\">\r\n      {\r\n        showModal \r\n        &&\r\n        <SuccessModal \r\n          setShowModal={setShowModal}\r\n          setValues={setValues}\r\n        />\r\n      }\r\n      <p className=\"display-5 text-center py-3\">\r\n        {loading ? \"Submitting Account Information\" : \"Account Registration\"}\r\n      </p>\r\n      {\r\n        loading ?\r\n        <div className=\"row\">\r\n          <Loader />\r\n          <p className=\"display-6 text-center\">\r\n            Please wait\r\n          </p>\r\n        </div>\r\n        :\r\n        <form className=\"row g-3 pb-4\">      \r\n          <NewOrExistingField \r\n            values={values}\r\n            setValues={setValues}\r\n          />\r\n          <AccountNumberField\r\n            values={values}\r\n            setValues={setValues}\r\n            errors={errors}\r\n          />\r\n          <MeterSerialNumberField \r\n            values={values}\r\n            setValues={setValues}\r\n            errors={errors}\r\n          />\r\n          <FullNameField \r\n            values={values}\r\n            setValues={setValues}\r\n            errors={errors}\r\n          />\r\n          <MobileNumberField \r\n            values={values}\r\n            setValues={setValues}\r\n            errors={errors}\r\n          />\r\n          <BarangayField \r\n            values={values}\r\n            setValues={setValues}\r\n          />\r\n          <AddressField\r\n            errors={errors}\r\n          />\r\n          {\r\n            values.existing \r\n            && \r\n            <LastBillDetailsFields \r\n              values={values} \r\n              setValues={setValues} \r\n              errors={errors} \r\n            />\r\n          }\r\n          <SubmitCreateAccountButton \r\n            values={values}\r\n            errors={errors}\r\n            setErrors={setErrors}\r\n            setLoading={setLoading}\r\n            setShowModal={setShowModal}\r\n          />\r\n        </form>        \r\n      }\r\n\r\n    </div>\r\n  )\r\n}","import { Route, Switch, useRouteMatch } from \"react-router-dom\";\r\nimport { BillAccountProvider } from \"../../../contexts/BillAccountContext\";\r\nimport { Accounts } from \"../Accounts/Accounts\";\r\nimport { CreateAccount } from \"../CreateAccount/CreateAccount\";\r\n\r\n\r\n\r\nexport const AccountsPage = () => {\r\n\r\n  let {path} = useRouteMatch();\r\n\r\n  \r\n\r\n\r\n  return (\r\n    <BillAccountProvider>\r\n      <Switch>\r\n        <Route exact path={path}>\r\n          <Accounts />\r\n        </Route>      \r\n        <Route path={`${path}/new`}>\r\n          <CreateAccount />\r\n        </Route>\r\n      </Switch>\r\n    </BillAccountProvider>\r\n    \r\n  )\r\n}","\r\n\r\nexport const HomeCard = ({cardImg, cardTitle, cardText, buttonLabel, handleClick}) => {\r\n\r\n  const processedText = cardText.split(\".\");\r\n\r\n  return (\r\n    <div className=\"col-md-4\">\r\n      <div className=\"card h-100 p-2\">\r\n        <img \r\n          src={cardImg} \r\n          className=\"card-img-top\" \r\n          alt=\"...\"\r\n          style={{\r\n            objectFit: \"contain\",\r\n            height: \"150px\"\r\n          }}\r\n        />\r\n        <div className=\"card-body\">\r\n          <h5 className=\"card-title pb-2\">\r\n            {cardTitle}\r\n          </h5>\r\n          <div className=\"card-text\">\r\n            {processedText.map((text, index) => <div key={index} className=\"pb-1\">{text}</div>)}\r\n          </div>\r\n        </div>\r\n        <div className=\"card-footer\">\r\n          <button \r\n            type=\"button\" \r\n            className=\"btn btn-primary w-100 my-1\"\r\n            onClick={handleClick}\r\n          >\r\n            {buttonLabel}\r\n          </button>\r\n        </div>\r\n      </div>            \r\n    </div>\r\n\r\n  )\r\n}","export default __webpack_public_path__ + \"static/media/register.c0fea52c.png\";","export default __webpack_public_path__ + \"static/media/accounts.15c1b769.png\";","export default __webpack_public_path__ + \"static/media/statement.a5d35e3b.jpg\";","import \"./style.css\";\r\nimport { useHistory, useRouteMatch } from \"react-router-dom\";\r\nimport { HomeCard } from \"../../../components/AdminHome/HomeCard\";\r\nimport register from \"../../../images/register.png\";\r\nimport accounts from \"../../../images/accounts.png\";\r\nimport statement from \"../../../images/statement.jpg\";\r\nimport seal from \"../../../images/alcantara-seal.png\";\r\nimport { useFetch } from \"../../../hooks/useFetch\";\r\nimport { useEffect } from \"react\";\r\nimport { useAccountsContext } from \"../../../contexts/AllAccountsContext\";\r\nimport Loader from \"../../../components/Loader/Loader\";\r\n\r\n\r\n\r\nexport const Home = () => {\r\n  const TOKEN = localStorage.getItem(\"token\");\r\n  const API = `/account-management/accounts`;\r\n  const { data } = useFetch({\r\n    endpoint: API,\r\n    token: TOKEN\r\n  });\r\n\r\n  const {setAccounts} = useAccountsContext();\r\n\r\n  useEffect(() => {\r\n    if (data !== null) {\r\n      setAccounts(data);\r\n    }\r\n  })\r\n\r\n\r\n\r\n  const { path } = useRouteMatch();\r\n  const history = useHistory();\r\n  \r\n  const homeCards = [\r\n    {\r\n      id: \"addAccountId\",\r\n      cardImg: register,\r\n      cardTitle: \"Create an account\",\r\n      cardText: \"Accounts from the old system can be registered in this system. New accounts can also be registered easily. Click the button below to learn more.\",\r\n      buttonLabel: \"Go to Registration Page\",\r\n      handleClick: () => history.push(path + \"/accounts/new\")\r\n    },\r\n    {\r\n      id: \"viewAccountsId\",\r\n      cardImg: accounts,\r\n      cardTitle: \"View registered accounts\",\r\n      cardText: \"All accounts can be viewed in a table format, which also comes with sorting features. The sorting can be toggled by clicking a column header. Click the button below to see.\",\r\n      buttonLabel: \"Go to Accounts Page\",\r\n      handleClick: () => history.push(path + \"/accounts\")\r\n    },\r\n    {\r\n      id: \"issueStatementsId\",\r\n      cardImg: statement,\r\n      cardTitle: \"Issue a new statement\",\r\n      cardText: \"The system will only be needing the current meter reading. All the other values will be auto-computed and account holders will be notified through SMS.\",\r\n      buttonLabel: \"Go to Statements Page\",\r\n      handleClick: () => history.push(path + \"/statements\")\r\n    }\r\n  ]\r\n\r\n  return (\r\n      <div className=\"container\">\r\n        {\r\n          !data ?\r\n          <Loader />\r\n          :\r\n          <div>\r\n            <div \r\n              className=\"d-flex w-100 justify-content-around align-items-center my-3\"\r\n              style={{\r\n                height: \"70vh\"\r\n              }}\r\n            >\r\n              <div className=\"text-center col-md-4\">\r\n                <img \r\n                  src={seal} \r\n                  alt=\"Alcantara, Romblon - Municipal Seal\" \r\n                  className=\"img-thumbnail border-0\"\r\n                  style={{\r\n                    height: \"15rem\",\r\n                    width: \"15rem\"\r\n                  }}\r\n                />\r\n              </div>\r\n              <div className=\"col-md-8\">\r\n                <p className=\"h2\">\r\n                  Municipality of Alcantara\r\n                </p>\r\n                <p className=\"display-6\">\r\n                  Integrated Water Supply System\r\n                </p>\r\n                <p className=\"text-justify\">\r\n                  Our goal is to improve distribution of monthly water bills, while also adding convenience by allowing the account holders to view their bills and account details online.<br/><br/>The monthly distribution of bills will be covered by our system's integrated SMS notification feature. Account holders can view their accounts by logging in to our customer's page.\r\n                </p>\r\n              </div>\r\n            </div>\r\n            <div className=\"row card-group my-4 py-4\">\r\n              <p className=\"h2 mb-3 text-center\">\r\n                Main Features\r\n              </p>\r\n              {homeCards.map(item => (\r\n                <HomeCard \r\n                  key={item.id}\r\n                  cardImg={item.cardImg}\r\n                  cardTitle={item.cardTitle}\r\n                  cardText={item.cardText}\r\n                  buttonLabel={item.buttonLabel}\r\n                  handleClick={item.handleClick}\r\n                />\r\n              ))}\r\n            </div>\r\n          </div>\r\n        }\r\n      </div>\r\n\r\n  )\r\n}","const { createContext, useContext } = require(\"react\");\r\n\r\n\r\n\r\nexport const BillingDateContext = createContext();\r\n\r\n\r\nexport const BillingDateContextProvider = ({children}) => {\r\n\r\n  const billingDates = [\r\n    {\r\n      label: \"December 28 - January 28\",\r\n      value: {\r\n        periodFrom: 1577462400000,\r\n        periodTo: 1580140800000\r\n      }\r\n    },\r\n    {\r\n      label: \"January 28 - February 28\",\r\n      value: {\r\n        periodFrom: 1580140800000,\r\n        periodTo: 1582819200000\r\n      }\r\n    },\r\n    {\r\n      label: \"February 28 - March 28\",\r\n      value: {\r\n        periodFrom: 1582819200000,\r\n        periodTo: 1585324800000\r\n      }\r\n    },\r\n    {\r\n      label: \"March 28 - April 28\",\r\n      value: {\r\n        periodFrom: 1585324800000,\r\n        periodTo: 1588003200000\r\n      }\r\n    },\r\n    {\r\n      label: \"April 28 - May 28\",\r\n      value: {\r\n        periodFrom: 1588003200000,\r\n        periodTo: 1590595200000\r\n      }\r\n    },\r\n    {\r\n      label: \"May 28 - June 28\",\r\n      value: {\r\n        periodFrom: 1590595200000,\r\n        periodTo: 1593273600000\r\n      }\r\n    },\r\n    {\r\n      label: \"June 28 - July 28\",\r\n      value: {\r\n        periodFrom: 1593273600000,\r\n        periodTo: 1595865600000\r\n      }\r\n    },\r\n    {\r\n      label: \"July 28 - August 28\",\r\n      value: {\r\n        periodFrom: 1595865600000,\r\n        periodTo: 1598544000000\r\n      }\r\n    },\r\n    {\r\n      label: \"August 28 - September 28\",\r\n      value: {\r\n        periodFrom: 1598544000000,\r\n        periodTo: 1601222400000\r\n      }\r\n    },\r\n    {\r\n      label: \"September 28 - October 28\",\r\n      value: {\r\n        periodFrom: 1601222400000,\r\n        periodTo: 1603814400000\r\n      }\r\n    },\r\n    {\r\n      label: \"October 28 - November 28\",\r\n      value: {\r\n        periodFrom: 1603814400000,\r\n        periodTo: 1606492800000\r\n      }\r\n    },\r\n    {\r\n      label: \"November 28 - December 28\",\r\n      value: {\r\n        periodFrom: 1606492800000,\r\n        periodTo: 1609084800000\r\n      }\r\n    }\r\n  ];\r\n\r\n  return (\r\n    <BillingDateContext.Provider value={billingDates}>\r\n      {children}\r\n    </BillingDateContext.Provider>\r\n  )\r\n}\r\n\r\n\r\nexport const useBillingDate = () => {\r\n  return useContext(BillingDateContext);\r\n}","\r\n\r\nexport const ImportantNotes = () => {\r\n\r\n  return (\r\n    <div className=\"col-md-10 mr-auto py-2\">\r\n      <span className=\"font-weight-bold\">\r\n        Important Notes: \r\n      </span>\r\n      <ul>\r\n        <li>\r\n          Accounts that have already been billed for the period selected, will be filtered from the list.\r\n        </li>\r\n        <li>\r\n          Only the accounts that have not been billed for the period selected will be displayed.\r\n        </li>\r\n        <li>\r\n          The statement period options are dependent on the current month when issuing new statements.\r\n        </li>\r\n        <li>\r\n            These points are here to prevent errors and maintain the integrity of the statements that are being issued.\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  )\r\n}","import { useAccountsContext } from \"../../../contexts/AllAccountsContext\";\r\nimport { useBillingDate } from \"../../../contexts/BillingDateContext\";\r\nimport { useConsumptionAmount } from \"../../../hooks/useConsumptionAmount\";\r\nimport \"./style.css\";\r\n\r\n\r\nconst ISSUE_BILL_URI = \"https://sp1-blue-sparrow.herokuapp.com/api/v1/bill-management/bills/issue\"\r\n\r\nexport const IssueBillModal = ({payload, setPayload, setShowModal}) => {\r\n  const TOKEN = localStorage.getItem(\"token\");\r\n\r\n  const { accounts } = useAccountsContext();\r\n  const foundAccount = accounts.find(item => item.accountNumber === payload.accountNumber);\r\n  const months = useBillingDate();\r\n  const billingDate = months.find(item => item.value.periodTo === payload.periodTo)\r\n\r\n  \r\n  function handleClose() {\r\n    setPayload({\r\n      ...payload,\r\n      accountNumber: \"\",\r\n      readingPresent: 0,\r\n      chargeOthers: 0\r\n    })\r\n    setShowModal(false);\r\n  }\r\n  \r\n  function handlePresentReading(e) {\r\n    if (e.target.value.length < 4 && e.target.value.length > 0) {\r\n      setPayload({\r\n        ...payload,\r\n        readingPresent: parseInt(e.target.value)\r\n      })\r\n    } else e.target.value.trim()\r\n  }\r\n\r\n  const charges = useConsumptionAmount({\r\n    consumption: (payload.readingPresent - foundAccount.lastBillReading)\r\n  })\r\n\r\n  function handleSubmit() {\r\n    fetch(ISSUE_BILL_URI, {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-type\": \"application/json\",\r\n        \"x-auth-token\": TOKEN\r\n      },\r\n      body: JSON.stringify(payload)\r\n    })\r\n    .then(res => res.text())\r\n    .then(data => {\r\n      alert(data);\r\n      setShowModal(false);\r\n      setPayload({\r\n        ...payload,\r\n        accountNumber: \"\",\r\n        readingPresent: 0,\r\n        chargeOthers: 0\r\n      })\r\n    })\r\n    .catch(e => {\r\n      console.log(e);\r\n      alert(\"Oops.. Something went wrong...\")\r\n    })\r\n  }\r\n\r\n\r\n  return (\r\n    <div className=\"issue-bill-modal\">\r\n      <div className=\"modal-dialog modal-lg modal-dialog-scrollable p-4\">\r\n        <div className=\"modal-content\">\r\n          <div className=\"modal-header\">\r\n            <div className=\"modal-title col d-flex justify-content-between\">\r\n              <p className=\"font-xl m-0 p-0\">\r\n                Statement of Account\r\n              </p>\r\n              <p className=\"font-xl m-0 p-0 pr-5\">\r\n                {`${billingDate.label} 2020`}\r\n              </p>\r\n            </div>\r\n            <button \r\n              type=\"button\" \r\n              className=\"btn-close\" \r\n              aria-label=\"Close\"\r\n              onClick={handleClose}\r\n              ></button>\r\n          </div>\r\n          <div className=\"modal-body\">\r\n            <p className=\"font-xl m-0 p-0\" id=\"exampleModalLabel\">\r\n              {`Account No. ${foundAccount.accountNumber}`}\r\n            </p>\r\n            \r\n            <div className=\"row\">\r\n              <p className=\"font-xl text-center\">Meter Reading</p>\r\n              <div className=\"col-md-4 my-0 py-0 text-center\">\r\n                <p className=\"font-weight-bold\">Previous: </p>\r\n                <div className=\"row align-items-center h-50\">\r\n                  <p className=\"my-0 py-0\"> \r\n                    {`${foundAccount.lastBillReading} Cu. Meters`}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-4 my-0 py-0 text-center\">\r\n                <p className=\"font-weight-bold\">Present:</p>\r\n                <div className=\"row align-items-center d-flex flex-row justify-content-center\">\r\n                  <div className=\"col-5\">\r\n                    <input \r\n                      type=\"number\" \r\n                      id=\"inputPassword6\" \r\n                      className=\"form-control text-right\" \r\n                      aria-describedby=\"passwordHelpInline\"\r\n                      value={payload.readingPresent || 0} \r\n                      onChange={handlePresentReading}  \r\n                    />\r\n                  </div>\r\n                  <div className=\"col-5\">\r\n                    <span id=\"passwordHelpInline\" className=\"\">\r\n                      Cu. Meters\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-md-4 my-0 py-0 text-center\">\r\n                <p className=\"font-weight-bold\">Used: </p>\r\n                <div className=\"row align-items-center h-50\">\r\n                  <p className=\"my-0 py-0\"> \r\n                    {`${payload.readingPresent - foundAccount.lastBillReading} Cu. Meters`} \r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <hr />\r\n            <div className=\"row g-2\">\r\n              <p className=\"h5 font-weight-normal\">Consumption</p>\r\n              <div className=\"col-8 m-auto\">\r\n                <div className=\"d-flex justify-content-between\">\r\n                  <p className=\"font-weight-bold\">Charges</p>\r\n                  <p className=\"font-weight-bold\">Rates</p>\r\n                </div>\r\n                <div className=\"d-flex justify-content-between\">\r\n                  <p className=\"h6\">0 - 10 Cu. M: </p>\r\n                  <p className=\"\">PHP 50.00</p>\r\n                </div>\r\n                <div className=\"d-flex justify-content-between\">\r\n                  <p className=\"h6\">Above 10 Cu. M: </p>\r\n                  <p className=\"\">PHP 11.00 / Cu. M</p>\r\n                </div>\r\n                <div className=\"d-flex justify-content-start\">\r\n                  <p className=\"h6\">Others: </p>\r\n                </div>\r\n              </div>\r\n              <div className=\"col-4 m-auto\">\r\n                <p className=\"font-weight-bold text-right\">Amount</p>\r\n                <div className=\"d-flex justify-content-end\">\r\n                  <p className=\"\">50.00</p>\r\n                </div>\r\n                <div className=\"d-flex justify-content-end\">\r\n                  <p className=\"\">\r\n                    {`${charges.chargeAboveTen}.00`}\r\n                  </p>\r\n                </div>\r\n                <div className=\"d-flex justify-content-end\">\r\n                  <p className=\"\">\r\n                    {`${payload.chargeOthers}.00`}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <hr className=\"\" />\r\n            <div className=\"row\">\r\n              <div className=\"col-6 ml-auto d-flex justify-content-between\">\r\n                <p className=\"h5 font-weight-normal\">Total Amount</p>\r\n                <p className=\"h5 font-weight-normal\">\r\n                  {`PHP ${charges.total}.00`}\r\n                </p>\r\n              </div>\r\n            </div>\r\n\r\n\r\n\r\n          </div>\r\n          <div className=\"modal-footer\">\r\n            <button \r\n              type=\"button\" \r\n              className=\"btn btn-outline-secondary\" \r\n              onClick={handleClose}\r\n            >\r\n              Close\r\n            </button>\r\n            <button \r\n              type=\"button\" \r\n              className=\"btn btn-success\"\r\n              onClick={handleSubmit}\r\n            >\r\n              Submit New Statement\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>      \r\n    </div>\r\n  )\r\n}","import { useBillingDate } from \"../../contexts/BillingDateContext\";\r\n\r\n\r\n\r\n\r\n\r\nexport const PeriodSelectField = ({payload, setPayload, monthIndex}) => {\r\n  \r\n\r\n  const months = useBillingDate();\r\n\r\n  function handleChange(e) {\r\n    setPayload({\r\n      ...payload,\r\n      periodFrom: months[e.target.value].value.periodFrom,\r\n      periodTo: months[e.target.value].value.periodTo\r\n    })\r\n  }\r\n\r\n\r\n\r\n  return (\r\n    <div className=\"row\">\r\n      <div className=\"col-md-4 d-flex flex-column justify-content-center\">\r\n        <p className=\"h4\">Select Statement Period:</p>\r\n      </div>\r\n      <div className=\"col-md-8\">\r\n        <select \r\n          className=\"form-select form-select-lg mb-3 \" \r\n          aria-label=\"period select\"\r\n          defaultChecked={true}\r\n          defaultValue={monthIndex}\r\n          onChange={handleChange}\r\n        >\r\n          {months && months.map((item, index) => (\r\n            (index > monthIndex - 1) &&\r\n            <option\r\n              key={index}\r\n              value={index}\r\n            >\r\n              {item.label}\r\n            </option>\r\n          ))} \r\n        </select>\r\n      </div>\r\n    </div>    \r\n  )\r\n}","import { useState } from \"react\";\r\nimport { useTableSort } from \"../../hooks/useTableSort\";\r\nimport { ArrowUp, ArrowDown } from \"../../pages/main/Accounts/SvgIcons\";\r\n\r\nexport const StatementsListing = ({accounts, setShowModal, payload, setPayload}) => {\r\n\r\n\r\n  const [sortBy, setSortBy] = useState(\"\");\r\n\r\n  \r\n\r\n  const { array, arrow } = useTableSort({\r\n    data: accounts,\r\n    sortBy: sortBy\r\n  });\r\n\r\n  \r\n\r\n  const arrowIcons = {\r\n    up: <ArrowUp />,\r\n    down: <ArrowDown />\r\n  };\r\n\r\n  \r\n\r\n\r\n\r\n\r\n  function sortByAccountNumber() {\r\n    if (sortBy === \"accountNumberAsc\") {\r\n      setSortBy(\"accountNumberDesc\")\r\n    } else {\r\n      setSortBy(\"accountNumberAsc\")\r\n    }\r\n  }\r\n  function sortByFullName() {\r\n    if (sortBy === \"fullNameAsc\") {\r\n      setSortBy(\"fullNameDesc\")\r\n    } else {\r\n      setSortBy(\"fullNameAsc\")\r\n    }\r\n  }\r\n  function sortByBarangay() {\r\n    if (sortBy === \"barangayAsc\") {\r\n      setSortBy(\"barangayDesc\")\r\n    } else {\r\n      setSortBy(\"barangayAsc\")\r\n    }\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n  return (\r\n    <table className=\"table table-hover table-striped w-100 align-middle\" >\r\n      {/* <colgroup>\r\n        <col style={{ width: \"18%\"}} />\r\n        <col style={{ width: \"25%\"}} />\r\n        <col style={{ width: \"15%\"}} />\r\n        <col style={{ width: \"12.5%\"}} />\r\n        <col style={{ width: \"12.5%\"}} />\r\n        <col style={{ width: \"17%\"}} />\r\n      </colgroup> */}\r\n      <thead>\r\n        <tr>\r\n          <th scope=\"col\" className=\"my-0 py-0\">\r\n            <div \r\n              style={{cursor: \"pointer\"}} \r\n              className=\"d-flex w-100 justify-content-between align-items-center py-2\" \r\n              onClick={sortByAccountNumber}\r\n              title=\"Sort by Account No.\"\r\n            >\r\n              <div>\r\n                Account No.\r\n              </div>\r\n              {arrow?.accountNumber && arrowIcons[arrow.accountNumber]}\r\n            </div>\r\n          </th>\r\n          <th scope=\"col\" className=\"my-0 py-0\">\r\n            <div \r\n              style={{cursor: \"pointer\"}} \r\n              className=\"d-flex w-100 justify-content-between align-items-center py-2\" \r\n              onClick={sortByFullName}\r\n              title=\"Sort by Full Name\"\r\n            >\r\n              <div>Full Name</div>\r\n              {arrow?.fullName && arrowIcons[arrow.fullName]}\r\n            </div>\r\n          </th>\r\n          <th scope=\"col\" className=\"my-0 py-0\">\r\n            <div \r\n              style={{cursor: \"pointer\"}} \r\n              className=\"d-flex w-100 justify-content-between align-items-center py-2\" \r\n              onClick={sortByBarangay}\r\n              title=\"Sort by Barangay\"\r\n            >\r\n              <div>Barangay</div>\r\n              {arrow?.barangay && arrowIcons[arrow.barangay]}\r\n            </div>\r\n          </th>\r\n          <th scope=\"col\" className=\"my-0 py-0\"></th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        {array && array.map(item => {\r\n          return (\r\n            <tr key={item.accountNumber}>\r\n              <th scope=\"row\">\r\n                {item.accountNumber}\r\n              </th>\r\n              <td>\r\n                {item.fullName}\r\n              </td>\r\n              <td>\r\n                {item.address.split(\",\")[0]}\r\n              </td>\r\n              <td className=\"d-flex justify-content-center\">\r\n                <button\r\n                  type=\"button\"\r\n                  className=\"btn btn-sm btn-primary px-2\"\r\n                  onClick={() => {\r\n                    setPayload({\r\n                      ...payload,\r\n                      accountNumber: item.accountNumber\r\n                    });\r\n                    setShowModal(true);\r\n                  }}\r\n                >\r\n                  Issue Statement\r\n                </button>\r\n              </td>\r\n            </tr>\r\n          )\r\n        })}\r\n        \r\n      </tbody>\r\n    </table>    \r\n  )\r\n}","import { useEffect, useState } from \"react\";\r\nimport Loader from \"../../../components/Loader/Loader\";\r\nimport { ImportantNotes } from \"../../../components/StatementComponents/ImportantNotes\";\r\nimport { IssueBillModal } from \"../../../components/StatementComponents/IssueBillModal/IssueBillModal\";\r\nimport { PeriodSelectField } from \"../../../components/StatementComponents/PeriodSelectField\";\r\nimport { StatementsListing } from \"../../../components/StatementsListing/StatementsListing\";\r\nimport { useAccountsContext } from \"../../../contexts/AllAccountsContext\";\r\nimport { useBillingDate } from \"../../../contexts/BillingDateContext\";\r\nimport { useTableFilter } from \"../../../hooks/useTableFilter\";\r\n\r\n\r\n  \r\n\r\nexport const IssueStatements = () => {\r\n\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  const months = useBillingDate();\r\n\r\n  const d = new Date();\r\n  const monthIndex = d.getMonth() - 1;\r\n\r\n  const [payload, setPayload] = useState({\r\n     accountNumber: \"\",\r\n     periodFrom: months[monthIndex].value.periodFrom,\r\n     periodTo: months[monthIndex].value.periodTo,\r\n     readingPresent: 0,\r\n     chargeOthers: 0\r\n  })\r\n\r\n  const { accounts } = useAccountsContext();\r\n  const [showModal, setShowModal] = useState(false);\r\n\r\n  \r\n  \r\n  const {filteredArr} = useTableFilter({\r\n    data: accounts,\r\n    filter: payload.periodTo\r\n  });\r\n\r\n  useEffect(() => {\r\n    setTimeout(() => {\r\n      setLoading(false)\r\n      \r\n    }, 1500);\r\n  })\r\n\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      {\r\n        showModal && \r\n        <IssueBillModal \r\n          payload={payload}\r\n          setPayload={setPayload}\r\n          setShowModal={setShowModal}\r\n        /> \r\n      }\r\n      <p className=\"display-5 text-center py-3\">\r\n        Issue Statements\r\n      </p>\r\n\r\n      <ImportantNotes />\r\n\r\n      <PeriodSelectField \r\n        payload={payload} \r\n        setPayload={setPayload}\r\n        monthIndex={monthIndex} \r\n      />\r\n\r\n      {\r\n        loading ? \r\n        <Loader />\r\n        :\r\n        <StatementsListing \r\n          accounts={filteredArr} \r\n          setShowModal={setShowModal}\r\n          payload={payload}\r\n          setPayload={setPayload}\r\n        />\r\n      }\r\n      \r\n    </div>\r\n  )\r\n}","import { useEffect, useState } from \"react\"\r\n\r\n\r\n\r\nexport const useTableFilter = ({data, filter}) => {\r\n  const [state, setState] = useState({\r\n    filteredArr: [...data]\r\n  });\r\n\r\n\r\n  useEffect(() => {\r\n    let filtered = data.filter(item => (item.lastBillPeriodTo !== filter));\r\n\r\n    setState({\r\n      filteredArr: filtered\r\n    })\r\n  }, [data, filter])\r\n\r\n\r\n  return state;\r\n} ","import { useEffect, useRef, useState } from \"react\";\r\n\r\nconst days = [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"];\r\nconst months = [\r\n  \"January\",\r\n  \"February\",\r\n  \"March\",\r\n  \"April\",\r\n  \"May\",\r\n  \"June\",\r\n  \"July\",\r\n  \"August\",\r\n  \"September\",\r\n  \"October\",\r\n  \"November\",\r\n  \"December\"\r\n];\r\n\r\nexport const useDateStringToday = () => {\r\n  \r\n  const [dateStringToday, setDateStringToday] = useState(null);\r\n  const dateInstanceRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    dateInstanceRef.current = new Date();\r\n  })\r\n\r\n  useEffect(() => {\r\n    let day = days[dateInstanceRef.current.getDay()];\r\n    let month = months[dateInstanceRef.current.getMonth()];\r\n    let date = dateInstanceRef.current.getDate();\r\n    let year = dateInstanceRef.current.getFullYear();\r\n\r\n    setDateStringToday(`${day}, ${month} ${date}, ${year}`)\r\n  }, [])\r\n\r\n  return dateStringToday;\r\n}","\r\nimport { useHistory, useRouteMatch } from \"react-router-dom\";\r\nimport { useDateStringToday } from \"../../../hooks/useDateStringToday\";\r\n\r\n\r\n\r\nexport const Statements = () => {\r\n\r\n  const history = useHistory();\r\n  const { path } = useRouteMatch();\r\n  \r\n  const dateStringToday = useDateStringToday();\r\n \r\n\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <p className=\"display-5 text-center py-3 pb-5\">\r\n        Statements\r\n      </p>\r\n      <div className=\"row g-4\">\r\n        <div style={{ fontSize: \"1.5rem\"}} className=\"my-3 col-md-10 mr-auto\" >\r\n          <span>Today is </span>\r\n          <span> {dateStringToday && dateStringToday} </span>\r\n        </div>\r\n        <div className=\"my-2 col-md-8 mr-auto\">\r\n          Reminders:\r\n          <ul className=\"mt-2\">\r\n            <li>In this page, you can issue new statements for the accounts on record.</li>\r\n            <li>Upon issuance of the statements, each customer will receive an SMS through the mobile number they provided, which informs them of their new bill.</li>\r\n            <li>Do not forget to verify if all the details are correct before issuing a new statement.</li>\r\n            <li>To begin, press the Issue Statements button below.</li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n        <div className=\"col py-2\">\r\n          <button \r\n              className=\"btn btn-lg btn-outline-success col-md-6\" \r\n              type=\"button\"\r\n              onClick={() => {history.push(`${path}/issue`)}}\r\n            >\r\n              Issue New Statements\r\n            </button>\r\n        </div>\r\n\r\n      \r\n    </div>\r\n  )\r\n}","import { Route, Switch, useRouteMatch } from \"react-router-dom\"\r\nimport { BillingDateContextProvider } from \"../../../contexts/BillingDateContext\";\r\nimport { IssueStatements } from \"../IssueStatements/IssueStatements\";\r\nimport { Statements } from \"../Statements/Statements\";\r\n\r\n\r\n\r\nexport const StatementsPage = () => {\r\n\r\n  const { path } = useRouteMatch();\r\n\r\n  return (\r\n    <BillingDateContextProvider>\r\n      <Switch>\r\n        <Route exact path={path}>\r\n          <Statements />\r\n        </Route>\r\n        <Route path={`${path}/issue`}>\r\n          <IssueStatements />\r\n        </Route>\r\n      </Switch>\r\n    </BillingDateContextProvider>\r\n  )\r\n}","import { useEffect, useState } from \"react\";\r\nimport { Route, Switch } from \"react-router-dom\";\r\nimport { Navbar } from \"../../components/Navbar/Navbar\";\r\nimport { AllAccountsContextProvider } from \"../../contexts/AllAccountsContext\";\r\nimport { BillProvider } from \"../../contexts/BillContext\";\r\nimport { CustomerDataProvider } from \"../../contexts/CustomerDataContext\";\r\nimport { BillsPage } from \"../BillsPage/BillsPage\";\r\nimport { CustomerPage } from \"../Customer/CustomerPage\";\r\nimport { AccountsPage } from \"./AccountsPage/AccountsPage\";\r\nimport { Home } from \"./Home/Home\";\r\nimport { StatementsPage } from \"./StatementsPage/StatementsPage\";\r\n\r\n\r\nexport const Main = () => {\r\n\r\n  let role = localStorage.getItem(\"role\");\r\n  let [isAdmin, setIsAdmin] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (role === \"admin\") {\r\n      setIsAdmin(true)\r\n    } else setIsAdmin(false);\r\n  }, [role])\r\n\r\n\r\n  return (\r\n    <div className=\"h-100\">\r\n      <Navbar />\r\n      {\r\n        (isAdmin) ?\r\n        (\r\n          <AllAccountsContextProvider>\r\n            <Switch>\r\n              <Route exact path=\"/admin\">\r\n                <Home />\r\n              </Route>\r\n              <Route path=\"/admin/accounts\">\r\n                <AccountsPage />  \r\n              </Route>\r\n              <Route path=\"/admin/statements\">\r\n                <StatementsPage />\r\n              </Route>\r\n            </Switch>\r\n          </AllAccountsContextProvider>\r\n        )\r\n        :\r\n        (\r\n          <CustomerDataProvider>\r\n            <BillProvider>\r\n              <Switch>\r\n                <Route exact path=\"/customer\">\r\n                  <CustomerPage />\r\n                </Route>\r\n                <Route path=\"/customer/bills\">\r\n                  <BillsPage />\r\n                </Route>\r\n              </Switch>\r\n            </BillProvider>\r\n          </CustomerDataProvider>\r\n        )\r\n      }\r\n    </div>\r\n  )\r\n}","import { useEffect } from \"react\";\r\nimport { Route, Switch, useHistory } from \"react-router-dom\";\r\n\r\n\r\n\r\nexport const RoleFilter = ({children, ...rest}) => {\r\n\r\n  let history = useHistory()\r\n\r\n  let role = localStorage.getItem(\"role\");\r\n\r\n  console.log(role);\r\n\r\n  useEffect(() => {\r\n    switch (role) {\r\n      case \"admin\":\r\n        history.push(\"/admin\");\r\n        break;\r\n      case \"customer\":\r\n        history.push(\"/customer\");\r\n        break;\r\n      \r\n      default:\r\n        history.push(\"/login\")\r\n        break;\r\n    }\r\n  }, [role, history])\r\n\r\n  return (\r\n    <Switch>\r\n      <Route {...rest} path=\"/admin\" render={(props) => children} />\r\n      <Route {...rest} path=\"/customer\" render={(props) => children} />\r\n    </Switch>\r\n  )\r\n}","import { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport PrivateRoute from \"./pages/PrivateRoute/PrivateRoute\";\nimport { SignIn } from \"./pages/SignIn/SignIn\";\nimport { Main } from \"./pages/main/Main\";\nimport { RoleFilter } from \"./components/RoleFilter/RoleFilter\"\nimport { UserProvider } from \"./contexts/UserContext\";\n\n\nfunction App() {\n\n  return (\n    <Router basename={process.env.PUBLIC_URL}>\n      <UserProvider>\n        <Switch>\n          <Route path=\"/login\" render={() => <SignIn/> } />\n          <PrivateRoute path=\"/\">\n            <RoleFilter>\n              <Main />\n            </RoleFilter>\n          </PrivateRoute>\n        </Switch>\n      </UserProvider>\n    </Router>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}