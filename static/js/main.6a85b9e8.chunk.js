(this["webpackJsonpwater-bill-mgmt-w-sms"]=this["webpackJsonpwater-bill-mgmt-w-sms"]||[]).push([[0],{27:function(e,t,c){},33:function(e,t,c){},35:function(e,t,c){},36:function(e,t,c){},37:function(e,t,c){},38:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c(1),s=c.n(n),l=c(19),r=c.n(l),o=(c(27),c(7)),i=c(2),j=c(9),b=c(12);function d(e){var t=e.children,c=Object(b.a)(e,["children"]),n=!!localStorage.getItem("token");return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(i.b,Object(j.a)(Object(j.a)({},c),{},{render:function(e){var c=e.location;return n?t:Object(a.jsx)(i.a,{to:{pathname:"/login",state:{from:c}}})}}))})}c(33);var m=c(8),u=c(17),h=c.n(u),O=c(21),x=function(){var e=Object(O.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{token:"asdj12k4k213kas81240",user:{id:1,role:"customer",name:{first:"ISRAEL",last:"GALARIO"},address:"POB., ALCANTARA, ROMBLON",mobileNo:"917-1234521",accountNo:"2015-06-047",meterSerialNo:"14Y8 5991",lastBillNo:41}});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(i.g)(),t=Object(n.useState)(""),c=Object(m.a)(t,2),s=(c[0],c[1]),l=Object(n.useState)(""),r=Object(m.a)(l,2),o=(r[0],r[1]);return Object(a.jsxs)("div",{className:"",children:[Object(a.jsxs)("div",{className:"col-12 mb-4",children:[Object(a.jsx)("label",{htmlFor:"usernameInput",className:"form-label",children:"Username"}),Object(a.jsx)("input",{type:"text",className:"form-control",id:"usernameInput",placeholder:"Username",onChange:function(e){s(e.target.value.trim())}})]}),Object(a.jsxs)("div",{className:"col-12 mb-4",children:[Object(a.jsx)("label",{htmlFor:"adminPwInput",className:"form-label",children:"Password"}),Object(a.jsx)("input",{type:"password",className:"form-control",id:"adminPwInput",placeholder:"Password",onChange:function(e){o(e.target.value.trim())}})]}),Object(a.jsx)("div",{className:"col-12 mb-3 pt-2",children:Object(a.jsx)("button",{type:"button",className:"btn btn-primary w-100",onClick:function(){x().then((function(t){localStorage.setItem("token",t),localStorage.setItem("role","admin"),e.push("/")}))},children:"Sign In"})})]})},N=Object(n.createContext)(),v=function(e){var t=e.children,c=Object(n.useState)(!0),s=Object(m.a)(c,2),l=s[0],r=s[1];return Object(a.jsx)(N.Provider,{value:{activeUser:l,setActiveUser:r},children:t})},f=function(){var e=Object(i.g)(),t=Object(n.useState)(""),c=Object(m.a)(t,2),s=c[0],l=c[1],r=Object(n.useState)(""),o=Object(m.a)(r,2),j=o[0],b=o[1],d=Object(n.useContext)(N).setActiveUser;return Object(a.jsxs)("div",{className:"",children:[Object(a.jsxs)("div",{className:"col-12 mb-4",children:[Object(a.jsx)("label",{htmlFor:"accountNumberInput",className:"form-label",children:"Account No."}),Object(a.jsx)("input",{type:"text",className:"form-control",id:"accountNumberInput",placeholder:"Account No.",onChange:function(e){l(e.target.value.trim())}})]}),Object(a.jsxs)("div",{className:"col-12 mb-4",children:[Object(a.jsx)("label",{htmlFor:"customerPwInput",className:"form-label",children:"Password"}),Object(a.jsx)("input",{type:"password",className:"form-control",id:"customerPwInput",placeholder:"Password",onChange:function(e){b(e.target.value.trim())}})]}),Object(a.jsx)("div",{className:"col-12 mb-3 pt-2",children:Object(a.jsx)("button",{type:"button",className:"btn btn-primary w-100",onClick:function(){x().then((function(t){localStorage.setItem("token",t.token),localStorage.setItem("role",t.user.role),d(t.user),e.push("/")})),console.log(s),console.log(j)},children:"Sign In"})})]})},g=c.p+"static/media/alcantara-seal.a1037ced.png",y=function(){return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("div",{className:"container sign-in-wrapper d-flex align-items-center  justify-content-center",children:[Object(a.jsxs)("div",{className:"col-12 col-md-6 ",children:[Object(a.jsx)("div",{className:"text-center",children:Object(a.jsx)("img",{src:g,alt:"Alcantara, Romblon - Municipal Seal",className:"img-thumbnail border-0",style:{height:"12rem",width:"12rem"}})}),Object(a.jsx)("p",{className:"display-6 text-center",children:"Municipality of Alcantara"}),Object(a.jsx)("p",{className:"h3 text-center",children:"Water Supply System"})]}),Object(a.jsxs)("div",{className:"col-12 col-md-6",children:[Object(a.jsx)("p",{className:"mr-auto h4",children:"Login As:"}),Object(a.jsxs)("ul",{className:"nav nav-tabs pt-1",id:"myTab",role:"tablist",children:[Object(a.jsx)("li",{className:"nav-item",role:"presentation",children:Object(a.jsx)("a",{className:"nav-link active",id:"home-tab","data-toggle":"tab",href:"#admin",role:"tab","aria-controls":"admin","aria-selected":"true",children:"Admin"})}),Object(a.jsx)("li",{className:"nav-item",role:"presentation",children:Object(a.jsx)("a",{className:"nav-link",id:"customer-tab","data-toggle":"tab",href:"#customer",role:"tab","aria-controls":"customer","aria-selected":"false",children:"Customer"})})]}),Object(a.jsxs)("div",{className:"tab-content col-12 flex-column p-3 border border-1",id:"myTabContent",children:[Object(a.jsx)("div",{className:"tab-pane fade show active",id:"admin",role:"tabpanel","aria-labelledby":"admin-tab",children:Object(a.jsx)(p,{})}),Object(a.jsx)("div",{className:"tab-pane fade",id:"customer",role:"tabpanel","aria-labelledby":"customer-tab",children:Object(a.jsx)(f,{})})]})]})]})})},w=(c(35),function(){var e=Object(i.g)(),t=localStorage.getItem("role"),c={pathname:"/admin",state:{from:e.location}},n={pathname:"/admin/accounts",state:{from:e.location}},s={pathname:"/customer",state:{from:e.location}},l={pathname:"/customer/statements",state:{from:e.location}};return Object(a.jsx)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:Object(a.jsxs)("div",{className:"container-fluid",children:[Object(a.jsx)("span",{children:"WebApp"}),Object(a.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(a.jsx)("span",{className:"navbar-toggler-icon"})}),Object(a.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarNavAltMarkup",children:[Object(a.jsxs)("div",{className:"navbar-nav d-flex w-25 justify-content-around",children:[Object(a.jsx)(o.b,{className:"nav-link",activeClassName:"active",exact:!0,to:"admin"===t?c:s,children:"admin"===t?"Home":"Account"}),Object(a.jsx)(o.b,{className:"nav-link",activeClassName:"active",to:"admin"===t?n:l,children:"admin"===t?"Accounts":"Bills"})]}),Object(a.jsx)("div",{className:"d-flex w-100 w-md-75 justify-content-md-end justify-content-center",children:Object(a.jsx)("button",{type:"button",className:"btn btn-link sign-out-btn",onClick:function(){e.push("/login"),localStorage.clear()},children:"Sign Out"})})]})]})})}),S=(c(36),function(){var e,t,c=Object(n.useContext)(N).activeUser;return console.log(c),Object(a.jsxs)("div",{className:"container customer-page-wrapper",children:[Object(a.jsxs)("div",{className:"row pt-4",children:[Object(a.jsx)("div",{className:"col-12 col-md-8",children:Object(a.jsx)("p",{className:"display-5",children:"My Account"})}),Object(a.jsx)("div",{className:"col-12 col-md-4 d-flex align-items-center justify-content-end",children:Object(a.jsxs)("p",{className:"h5",children:["Account No.: ",Object(a.jsx)("span",{className:"font-weight-lighter",children:c.accountNo})]})})]}),Object(a.jsxs)("dl",{className:"row pt-4",children:[Object(a.jsx)("dt",{className:"col-sm-3",children:"Name"}),Object(a.jsx)("dd",{className:"col-sm-9",children:"".concat(null===(e=c.name)||void 0===e?void 0:e.first," ").concat(null===(t=c.name)||void 0===t?void 0:t.last)}),Object(a.jsx)("dt",{className:"col-sm-3",children:"Address"}),Object(a.jsx)("dd",{className:"col-sm-9",children:c.address?c.address:"NO ADDRESS"}),Object(a.jsx)("dt",{className:"col-sm-3",children:"Mobile No."}),Object(a.jsx)("dd",{className:"col-sm-9",children:void 0===c.mobileNo?"NO MOBILE NO.":"+63 ".concat(c.mobileNo)}),Object(a.jsx)("dt",{className:"col-sm-3",children:"Meter Serial No."}),Object(a.jsx)("dd",{className:"col-sm-9",children:c.meterSerialNo?c.meterSerialNo:"NO METER SERIAL NO."})]}),Object(a.jsx)("hr",{}),Object(a.jsx)("div",{children:Object(a.jsx)("button",{className:"btn btn-success",type:"button",children:"View My Bills"})})]})}),A=function(){return Object(a.jsxs)("table",{className:"table table-hover table-striped",children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{scope:"col",children:"Account No."}),Object(a.jsx)("th",{scope:"col",children:"Name"}),Object(a.jsx)("th",{scope:"col",children:"Mobile No."}),Object(a.jsx)("th",{scope:"col"})]})}),Object(a.jsx)("tbody",{children:[{accountNo:"1101",name:"juan santos",mobileNo:"912-3456"},{accountNo:"1102",name:"john cruz",mobileNo:"912-5205"},{accountNo:"1103",name:"mark lopez",mobileNo:"912-6812"},{accountNo:"1104",name:"peter tan",mobileNo:"912-2546"},{accountNo:"1105",name:"beth carlos",mobileNo:"912-6481"}].map((function(e){return Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{scope:"row",children:e.accountNo}),Object(a.jsx)("td",{children:e.name}),Object(a.jsx)("td",{children:"0".concat(e.mobileNo)}),Object(a.jsxs)("td",{className:"d-flex justify-content-around",children:[Object(a.jsx)("button",{type:"button",className:"btn btn-sm btn-secondary",children:"View"}),Object(a.jsx)("button",{type:"button",className:"btn btn-sm btn-secondary",children:"Issue Statement"})]})]},e.accountNo)}))})]})},I=function(){return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("div",{className:"container h-100",children:[Object(a.jsx)("p",{className:"h1",children:"ACCOUNTS"}),Object(a.jsx)(A,{})]})})},k=function(){return Object(a.jsx)("div",{className:"row w-100 justify-content-center",children:Object(a.jsx)("div",{className:"col-12 col-md-8",children:Object(a.jsxs)("div",{className:"input-group input-group-lg",children:[Object(a.jsx)("input",{type:"text",className:"form-control","aria-label":"Sizing example input","aria-describedby":"inputGroup-sizing-lg",placeholder:"Type an account number or name..."}),Object(a.jsx)("button",{className:"btn btn-lg btn-outline-secondary",type:"button",id:"inputGroup-sizing-lg",children:"Search"})]})})})},C=(c(37),function(){return Object(a.jsxs)("div",{className:"home-wrapper container d-flex flex-column justify-content-around",children:[Object(a.jsx)("p",{className:"h3 text-center",children:"Search for an Account"}),Object(a.jsx)("div",{className:"",children:Object(a.jsx)(k,{})})]})}),M=function(){var e=localStorage.getItem("role"),t=Object(n.useState)(!1),c=Object(m.a)(t,2),s=c[0],l=c[1];return Object(n.useEffect)((function(){l("admin"===e)}),[e]),Object(a.jsxs)("div",{className:"h-100",children:[Object(a.jsx)(w,{}),s?Object(a.jsxs)(i.d,{children:[Object(a.jsx)(i.b,{exact:!0,path:"/admin",children:Object(a.jsx)(C,{})}),Object(a.jsx)(i.b,{path:"/admin/accounts",children:Object(a.jsx)(I,{})})]}):Object(a.jsx)(i.d,{children:Object(a.jsx)(i.b,{exact:!0,path:"/customer",children:Object(a.jsx)(S,{})})})]})},P=function(e){var t=e.children,c=Object(b.a)(e,["children"]),s=Object(i.g)(),l=localStorage.getItem("role");return console.log("role filter"),Object(n.useEffect)((function(){"admin"===l?s.push("/admin"):s.push("/customer")}),[l,s]),Object(a.jsxs)(i.d,{children:[Object(a.jsx)(i.b,Object(j.a)(Object(j.a)({},c),{},{path:"/admin",render:function(e){return t}})),Object(a.jsx)(i.b,Object(j.a)(Object(j.a)({},c),{},{path:"/customer",render:function(e){return t}}))]})};var F=function(){return Object(a.jsx)(o.a,{basename:"/sp1-water-supply",children:Object(a.jsx)(v,{children:Object(a.jsxs)(i.d,{children:[Object(a.jsx)(i.b,{path:"/login",render:function(){return Object(a.jsx)(y,{})}}),Object(a.jsx)(d,{path:"/",children:Object(a.jsx)(P,{children:Object(a.jsx)(M,{})})})]})})})},E=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,39)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,s=t.getLCP,l=t.getTTFB;c(e),a(e),n(e),s(e),l(e)}))};r.a.render(Object(a.jsx)(s.a.StrictMode,{children:Object(a.jsx)(F,{})}),document.getElementById("root")),E()}},[[38,1,2]]]);
//# sourceMappingURL=main.6a85b9e8.chunk.js.map